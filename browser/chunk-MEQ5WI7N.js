import{$ as re,A as x,B as pe,D as Q,E as F,F as D,H as ue,I as ge,M as Y,O as T,P as X,Q as ne,R as U,S as v,T as M,U as P,V,W as ee,X as j,Y as B,Z as te,_ as ie,a as R,aa as Z,ba as E,c as de,d as le,da as W,e as se,ea as he,f as C,g as me,h as S,i as w,j as N,k as A,l as O,m as a,n as g,o as h,p as m,q as ce,s as e,t,u as c,v as q,w as p,x as b,y as r,z as f}from"./chunk-P5H7NKNW.js";var fe=(()=>{let l=class l{};l.\u0275fac=function(o){return new(o||l)},l.\u0275cmp=C({type:l,selectors:[["app-admin"]],decls:0,vars:0,template:function(o,n){}});let d=l;return d})();var y="http://localhost:9023/api/admin",k=(()=>{let l=class l{constructor(i){this.http=i}getAllProduct(){return this.http.get(y+"/products",{headers:this.createAuthorizationHeader()})}searchProduct(i){return console.log("value of productName ::  "+i),this.http.get(y+`/product/search/${i}`,{headers:this.createAuthorizationHeader()})}getCategories(){return this.http.get(y+"/categories",{headers:this.createAuthorizationHeader()})}addCategory(i){return this.http.post(y+"/category",i,{headers:this.createAuthorizationHeader()})}getFaqByProductId(i){return this.http.get(y+`/faq/${i}`,{headers:this.createAuthorizationHeader()})}addProduct(i){return this.http.post(y+"/product",i,{headers:this.createAuthorizationHeader()})}updateProduct(i){return this.http.put(y+"/product/update",i,{headers:this.createAuthorizationHeader()})}deleteProductId(i){return this.http.delete(y+`/product/delete/${i}`,{headers:this.createAuthorizationHeader()})}getCoupons(){return this.http.get(y+"/coupons",{headers:this.createAuthorizationHeader()})}addCoupon(i){return this.http.post(y+"/coupon",i,{headers:this.createAuthorizationHeader()})}addFaq(i){return this.http.post(y+"/faq",i,{headers:this.createAuthorizationHeader()})}getProductById(i){return this.http.get(y+`/product/${i}`,{headers:this.createAuthorizationHeader()})}getAllFaqsByProductId(i){return this.http.get(y+`/faq/${i}`,{headers:this.createAuthorizationHeader()})}deleteFaqById(i){return this.http.delete(y+`/faq/delete/${i}`,{headers:this.createAuthorizationHeader()})}getFaqById(i){return this.http.get(y+`/faq/search/${i}`,{headers:this.createAuthorizationHeader()})}updateFaq(i){return this.http.put(y+"/faq/update",i,{headers:this.createAuthorizationHeader()})}getFaqByQuestion(i){return this.http.get(y+`/faq/question/${i}`,{headers:this.createAuthorizationHeader()})}getAllOrderPending(){return this.http.get(y+"/order/pending",{headers:this.createAuthorizationHeader()})}getAllOrderShipped(){return this.http.get(y+"/order/shipped",{headers:this.createAuthorizationHeader()})}getAllOrderPlaced(){return this.http.get(y+"/order/placed",{headers:this.createAuthorizationHeader()})}getOrderDelivered(){return this.http.get(y+"/order/delivered",{headers:this.createAuthorizationHeader()})}getOrderByIdOrder(i){return this.http.get(y+`/cartItemOfOrder/${i}`,{headers:this.createAuthorizationHeader()})}setOrderShipped(i){return this.http.get(y+`/order/setShipped/${i}`,{headers:this.createAuthorizationHeader()})}setOrderDelivered(i){return this.http.get(y+`/order/setDelivered/${i}`,{headers:this.createAuthorizationHeader()})}findUserById(i){return this.http.get(y+`/profile/${i}`,{headers:this.createAuthorizationHeader()})}changeProfil(i){return this.http.post(y+"/changeProfile",i,{headers:this.createAuthorizationHeader()})}getAllUser(){return this.http.get(y+"/users",{headers:this.createAuthorizationHeader()})}createAuthorizationHeader(){return new ue().set("Authorization","Bearer "+W.getToken())}};l.\u0275fac=function(o){return new(o||l)(se(ge))},l.\u0275prov=de({token:l,factory:l.\u0275fac,providedIn:"root"});let d=l;return d})();var ke=d=>["/admin/faq/",d];function Ie(d,l){if(d&1){let s=q();e(0,"div",8)(1,"div",9),c(2,"img",10),t(),e(3,"h2",11),r(4),t(),e(5,"p"),r(6),t(),e(7,"div",12)(8,"p"),r(9),t(),e(10,"p"),r(11),t()(),e(12,"div",13)(13,"a",14),r(14,"FAQ"),t(),e(15,"button",15),p("click",function(){let o=S(s).$implicit,n=b();return w(n.toggleModalUpdate(o.id))}),r(16," Update "),t(),e(17,"button",16),p("click",function(){let o=S(s).$implicit,n=b();return w(n.toggleModalDelete(o.id))}),r(18," Delete "),t()()()}if(d&2){let s=l.$implicit;a(2),m("src",s.processedImg,O)("alt",s.img),a(2),f(s.name),a(2),x(" ",s.description," "),a(3),x("Price :",s.price,""),a(2),x("Category : ",s.categoryDto.name,""),a(2),m("routerLink",Q(7,ke,s.id))}}function Fe(d,l){d&1&&(e(0,"div",17)(1,"h2",9),r(2,"No products found."),t()())}function Ne(d,l){d&1&&(e(0,"p",45),r(1," Ce nom est d\xE9j\xE0 utilis\xE9. "),t())}function De(d,l){if(d&1&&(e(0,"option",46),r(1),t()),d&2){let s=l.$implicit;m("value",s.id),a(),x(" ",s.name," ")}}function Ae(d,l){if(d&1){let s=q();e(0,"div",18)(1,"div",19)(2,"div",20)(3,"div",21)(4,"h3",22),r(5," Update this Product "),t(),e(6,"button",23),p("click",function(){S(s);let o=b();return w(o.toggleModalUpdate(o.productToUpdate))}),N(),e(7,"svg",24),c(8,"path",25),t(),A(),e(9,"span",26),r(10,"Close modal"),t()()(),e(11,"form",27)(12,"div",28)(13,"div",29)(14,"div",30),c(15,"img",31),t(),e(16,"div",32)(17,"label",33),r(18,"Choose File"),t(),e(19,"input",34),p("change",function(o){S(s);let n=b();return w(n.previewImage(o))}),t()()(),e(20,"div",35),c(21,"input",36),h(22,Ne,2,0,"p",37),c(23,"textarea",38)(24,"input",39),e(25,"select",40),h(26,De,2,2,"option",41),t()()(),e(27,"button",42),p("click",function(){S(s);let o=b();return w(o.confirmUpdate())}),N(),e(28,"svg",43),c(29,"path",44),t(),r(30," Confirme "),t()()()()()}if(d&2){let s=b();a(11),m("formGroup",s.productFormToUpdate),a(4),m("src",s.product.processedImg,O),a(6),m("value",s.product.name),a(),m("ngIf",s.ProductNameAlreadyExist),a(),m("value",s.product.description),a(),m("value",s.product.price),a(2),m("ngForOf",s.categories),a(),m("disabled",!s.productFormToUpdate.valid)}}function qe(d,l){if(d&1){let s=q();e(0,"div",47)(1,"div",48)(2,"div",20)(3,"button",49),p("click",function(){S(s);let o=b();return w(o.toggleModalDelete(o.productToRemove))}),N(),e(4,"svg",24),c(5,"path",25),t(),A(),e(6,"span",26),r(7,"Close modal"),t()(),e(8,"div",50),N(),e(9,"svg",51),c(10,"path",52),t(),A(),e(11,"h3",53),r(12," Are you sure you want to delete this Product ? "),t(),e(13,"button",54),p("click",function(){S(s);let o=b();return w(o.confirmDelete())}),r(14," Yes, I'm sure "),t(),e(15,"button",55),p("click",function(){S(s);let o=b();return w(o.toggleModalDelete(o.productToRemove))}),r(16," No, cancel "),t()()()()()}}var xe=(()=>{let l=class l{constructor(i,o,n){this.adminService=i,this.fb=o,this.router=n,this.products=[],this.isModalOpenDelete=!1,this.productToUpdate=-1,this.productToRemove=-1,this.isModalOpenUpdate=!1,this.categories=[],this.ProductNameAlreadyExist=!1,this.product={name:"",description:"",price:"",processedImg:"",categoryDto:{name:""}}}ngOnInit(){this.searchForm=this.fb.group({title:[null,v.required]}),this.getAllProducts()}getAllProducts(){this.products=[],this.adminService.getAllProduct().subscribe(i=>{i.forEach(o=>{o.processedImg="data:image/jpeg;base64,"+o.byteImg,this.products.push(o)})})}getProductByName(){this.products=[];let i=this.searchForm.get("title")?.value;i?this.adminService.searchProduct(i).subscribe(o=>{console.log(o),o.forEach(n=>{console.log(n),n.processedImg="data:image/jpeg;base64,"+n.byteImg,this.products.push(n)})}):this.getAllProducts()}getFaqByProductId(i){console.log("productId >>> "+i),this.router.navigate(["/faq"+i])}toggleModalUpdate(i){this.productToUpdate=i,console.log("Product SELCTED >> "+this.productToUpdate),this.getProductById(i),this.getAllCategories(),this.isModalOpenUpdate=!this.isModalOpenUpdate}getProductById(i){this.adminService.getProductById(i).subscribe(o=>{this.product.name=o.name,this.product.description=o.description,this.product.price=o.price,this.product.categoryDto.name=o.categoryDto.name,this.product.processedImg="data:image/jpeg;base64,"+o.byteImg}),this.productFormToUpdate=this.fb.group({processedImg:[this.product.processedImg,v.required],name:[this.product.name,v.required],description:[this.product.description,v.required],price:[this.product.price,v.required],categoryId:[this.product.categoryDto.name,v.required]})}getAllCategories(){this.adminService.getCategories().subscribe(i=>{this.categories=i})}previewImage(i){let o=i.target,n=new FileReader;n.onload=()=>{let u=document.getElementById("preview");if(u){u.src=n.result;let _=document.querySelector(".image-preview");_&&_.classList.remove("hidden")}},this.selectedFile=o.files[0],n.readAsDataURL(o.files[0])}confirmUpdate(){return R(this,null,function*(){let i=this.productFormToUpdate.value,o=i.processedImg,n=i.name,u=i.description,_=i.price,K=i.categoryId;console.log("processedImg >>> "+o),console.log("name >>> "+n),console.log("description >>> "+u),console.log("price>>> "+_),console.log("categoryName >>> "+K);let I={id:5,name:"",description:"",price:4,productDto:{id:-1}};I.id=this.productToUpdate,I.name=n,I.description=u,I.price=_,I.productDto.id=K,console.log("Value of data >>> "+I),console.log(I.id),console.log(I.name),console.log(I.description),console.log(I.price),console.log(I.productDto.id);let $=new FormData;$.append("img",this.selectedFile),$.append("categoryDto.id",K),$.append("name",n),$.append("description",u),$.append("price",_),$.append("id",this.productToUpdate.toString()),this.adminService.updateProduct($).subscribe(ae=>{console.log("u[date] Product Successfully !!"),this.router.navigateByUrl("/admin/acceuil"),this.ProductNameAlreadyExist=!1,this.getAllProducts(),this.isModalOpenUpdate=!this.isModalOpenUpdate},ae=>{this.ProductNameAlreadyExist=!0,console.log("Error"),console.log(ae)})})}toggleModalDelete(i){this.productToRemove=i,this.isModalOpenDelete=!this.isModalOpenDelete}confirmDelete(){this.adminService.deleteProductId(this.productToRemove).subscribe(i=>{console.log("Deleting product... "+this.productToRemove),this.getAllProducts(),this.isModalOpenDelete=!this.isModalOpenDelete},i=>{console.log("This product not exist"),this.getAllProducts()}),this.toggleModalDelete(this.productToRemove)}};l.\u0275fac=function(o){return new(o||l)(g(k),g(E),g(T))},l.\u0275cmp=C({type:l,selectors:[["app-acceuil"]],decls:8,vars:5,consts:[[1,"mt-20","mx-auto","sm:w-4/5","grid","grid-cols-1","gap-y-6","p-2"],[1,"mx-auto","mt-4",3,"submit","formGroup"],["type","search","placeholder","Search","formControlName","title",1,"mx-auto","border","border-gray-300","rounded-md","p-2","bg-slate-200","focus:outline-none"],[1,"productes","grid","grid-cols-1","gap-3","p-2","sm:grid-cols-2","md:grid-cols-3"],["class","product shadow-2xl rounded-md p-5 flex flex-col gap-y-3",4,"ngFor","ngForOf"],["class","rounded-md p-5 w-fit mx-auto my-auto border border-red-500",4,"ngIf"],["id","popup-modal","tabindex","-1","class","fixed top-0 right-0 left-0 z-50 flex justify-center items-center w-full h-full bg-black bg-opacity-50 my-auto",4,"ngIf"],["id","popup-modal","tabindex","-1","class","fixed top-0 right-0 left-0 z-50 flex justify-center items-center w-full h-full bg-black bg-opacity-50",4,"ngIf"],[1,"product","shadow-2xl","rounded-md","p-5","flex","flex-col","gap-y-3"],[1,""],[1,"mx-auto","h-52","w-52",3,"src","alt"],[1,"font-semibold","text-blue-600"],[1,"flex","flex-row","justify-between","shadow-xl","p-2"],[1,"flex","flex-row","justify-end","gap-x-3","shadow-sm","p-2","sm:grid","sm:grid-cols-2","sm:gap-y-2"],[1,"bg-violet-400","p-2","rounded-md",3,"routerLink"],["type","button",1,"block","bg-orange-300","p-2","rounded-md",3,"click"],["type","button",1,"block","bg-red-400","p-2","rounded-md",3,"click"],[1,"rounded-md","p-5","w-fit","mx-auto","my-auto","border","border-red-500"],["id","popup-modal","tabindex","-1",1,"fixed","top-0","right-0","left-0","z-50","flex","justify-center","items-center","w-full","h-full","bg-black","bg-opacity-50","my-auto"],[1,"relative","p-4","w-full","max-w-md","max-h-full"],[1,"relative","bg-white","rounded-lg","shadow","dark:bg-gray-700"],[1,"flex","items-center","justify-between","p-4","md:p-5","border-b","rounded-t","dark:border-gray-600"],[1,"text-lg","font-semibold","text-gray-900","dark:text-white"],["type","button","data-modal-toggle","crud-modal",1,"text-gray-400","bg-transparent","hover:bg-gray-200","hover:text-gray-900","rounded-lg","text-sm","w-8","h-8","ms-auto","inline-flex","justify-center","items-center","dark:hover:bg-gray-600","dark:hover:text-white",3,"click"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 14 14",1,"w-3","h-3"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"],[1,"sr-only"],[1,"p-4","md:p-5",3,"formGroup"],[1,"max-w-sm","sm:grid","sm:grid-cols-2","sm:w-full","sm:h-2/3","bg-white","border","border-gray-200","rounded-lg","shadow","dark:bg-gray-800","dark:border-gray-700","mx-auto","mb-2"],[1,"bg-[#edeaeabe]","p-4","grid","grid-cols-1","gap-y-3","mx-auto"],[1,"image-preview"],["id","preview","alt","Image Preview",1,"mx-auto","h-3/3",3,"src"],[1,"mx-auto"],["for","file-upload",1,"mx-auto","cursor-pointer","rounded","bg-[#e8e5e5]","px-4","py-2","text-center","font-bold","text-blue-600","hover:text-white","hover:bg-blue-700"],["id","file-upload","type","file","formControlName","processedImg","required","",1,"hidden","w-fit",3,"change"],[1,"p-5","flex","flex-col","gap-y-2"],["type","text","formControlName","name","name","name","id","name","required","",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-primary-600","focus:border-primary-600","block","w-full","p-2.5","dark:bg-gray-600","dark:border-gray-500","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-primary-500","dark:focus:border-primary-500",3,"value"],["id","nameInUse","class","text-red-500 text-xs italic",4,"ngIf"],["id","description","formControlName","description","rows","4",1,"block","p-2.5","w-full","text-sm","text-gray-900","bg-gray-50","rounded-lg","border","border-gray-300","focus:ring-blue-500","focus:border-blue-500","dark:bg-gray-600","dark:border-gray-500","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500",3,"value"],["type","text","formControlName","price","name","name","id","name","required","",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-primary-600","focus:border-primary-600","block","w-full","p-2.5","dark:bg-gray-600","dark:border-gray-500","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-primary-500","dark:focus:border-primary-500",3,"value"],["required","","formControlName","categoryId",1,"mx-auto","w-full","rounded-md","bg-white","p-2","border","border-gray-300"],[3,"value",4,"ngFor","ngForOf"],["type","submit",1,"text-white","inline-flex","items-center","bg-blue-700","hover:bg-blue-800","focus:ring-4","focus:outline-none","focus:ring-blue-300","font-medium","rounded-lg","text-sm","px-5","py-2.5","text-center","dark:bg-blue-600","dark:hover:bg-blue-700","dark:focus:ring-blue-800",3,"click","disabled"],["fill","currentColor","viewBox","0 0 20 20","xmlns","http://www.w3.org/2000/svg",1,"me-1","-ms-1","w-5","h-5"],["fill-rule","evenodd","d","M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z","clip-rule","evenodd"],["id","nameInUse",1,"text-red-500","text-xs","italic"],[3,"value"],["id","popup-modal","tabindex","-1",1,"fixed","top-0","right-0","left-0","z-50","flex","justify-center","items-center","w-full","h-full","bg-black","bg-opacity-50"],[1,"relative","p-4","w-full","max-w-md"],["type","button",1,"absolute","top-3","end-2.5","text-gray-400","bg-transparent","hover:bg-gray-200","hover:text-gray-900","rounded-lg","text-sm","w-8","h-8","ms-auto","inline-flex","justify-center","items-center","dark:hover:bg-gray-600","dark:hover:text-white",3,"click"],[1,"p-4","md:p-5","text-center"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 20 20",1,"mx-auto","mb-4","text-gray-400","w-12","h-12","dark:text-gray-200"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M10 11V6m0 8h.01M19 10a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"],[1,"mb-5","text-lg","font-normal","text-gray-500","dark:text-gray-400"],["type","button",1,"text-white","bg-red-600","hover:bg-red-800","focus:ring-4","focus:outline-none","focus:ring-red-300","dark:focus:ring-red-800","font-medium","rounded-lg","text-sm","inline-flex","items-center","px-5","py-2.5","text-center",3,"click"],["type","button",1,"py-2.5","px-5","ms-3","text-sm","font-medium","text-gray-900","focus:outline-none","bg-white","rounded-lg","border","border-gray-200","hover:bg-gray-100","hover:text-blue-700","focus:z-10","focus:ring-4","focus:ring-gray-100","dark:focus:ring-gray-700","dark:bg-gray-800","dark:text-gray-400","dark:border-gray-600","dark:hover:text-white","dark:hover:bg-gray-700",3,"click"]],template:function(o,n){o&1&&(e(0,"section",0)(1,"form",1),p("submit",function(){return n.getProductByName()}),c(2,"input",2),t(),e(3,"div",3),h(4,Ie,19,9,"div",4),t(),h(5,Fe,3,0,"div",5),t(),h(6,Ae,31,8,"div",6)(7,qe,17,0,"div",7)),o&2&&(a(),m("formGroup",n.searchForm),a(3),m("ngForOf",n.products),a(),m("ngIf",n.products.length==0),a(),m("ngIf",n.isModalOpenUpdate),a(),m("ngIf",n.isModalOpenDelete))},dependencies:[F,D,X,V,ie,re,U,te,M,P,Z,j,B]});let d=l;return d})();function Oe(d,l){d&1&&(e(0,"p",18),r(1," Ce nom est d\xE9j\xE0 utilis\xE9. "),t())}function Te(d,l){if(d&1&&(e(0,"tr",19)(1,"td",20)(2,"p",21),r(3),t()(),e(4,"td",20)(5,"p",21),r(6),t()()()),d&2){let s=l.$implicit;a(3),x(" ",s.name," "),a(3),x(" ",s.description," ")}}var ve=(()=>{let l=class l{constructor(i,o){this.adminService=i,this.fb=o,this.categories=[],this.categoryExist=!1}ngOnInit(){this.categoryForm=this.fb.group({name:[null,v.required],description:[null,v.required]}),this.getAllCategories()}getAllCategories(){this.adminService.getCategories().subscribe(i=>{console.log(i),this.categories=i})}addCategory(){console.log(this.categoryForm.value),this.adminService.addCategory(this.categoryForm.value).subscribe(i=>{console.log("add Category Succes"),this.categoryExist=!1,this.getAllCategories()},i=>{this.categoryExist=!0})}};l.\u0275fac=function(o){return new(o||l)(g(k),g(E))},l.\u0275cmp=C({type:l,selectors:[["app-category"]],decls:27,vars:4,consts:[[1,"mt-20","mx-auto","sm:w-4/5","grid","grid-cols-1","gap-y-6","p-2"],[1,"container","p-8","shadow-lg","shadow-[#5a6363]","rounded-lg","mt-4"],[3,"formGroup"],[1,"mb-4"],["for","categoryName",1,"block","text-gray-700","text-sm","font-bold","mb-2"],["type","text","id","categoryName","formControlName","name","placeholder","Entrez le nom de la cat\xE9gorie",1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-700","leading-tight","focus:outline-none","focus:shadow-outline"],["id","nameInUse","class","text-red-500 text-xs italic",4,"ngIf"],[1,"mb-6"],[1,"block","text-gray-700","text-sm","font-bold","mb-2"],["id","categoryDescription","placeholder","Entrez la description de la cat\xE9gorie","formControlName","description","for","categoryDescription",1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-700","leading-tight","focus:outline-none","focus:shadow-outline"],[1,"flex","items-center","justify-between"],["type","button",1,"bg-blue-500","hover:bg-blue-700","text-white","font-bold","py-2","px-4","rounded","focus:outline-none","focus:shadow-outline",3,"click","disabled"],["type","reset",1,"bg-gray-500","hover:bg-gray-700","text-white","font-bold","py-2","px-4","rounded","focus:outline-none","focus:shadow-outline"],[1,"container","mx-auto","p-8"],[1,"overflow-x-auto","shadow-md","rounded-lg"],[1,"min-w-full","leading-normal"],[1,"px-5","py-3","border-b-2","border-gray-200","bg-gray-800","text-left","text-xs","font-semibold","text-white","uppercase","tracking-wider"],["class","hover:bg-gray-100",4,"ngFor","ngForOf"],["id","nameInUse",1,"text-red-500","text-xs","italic"],[1,"hover:bg-gray-100"],[1,"px-5","py-5","border-b","border-gray-200","bg-white","text-sm"],[1,"text-gray-900","whitespace-no-wrap"]],template:function(o,n){o&1&&(e(0,"section",0)(1,"div",1)(2,"form",2)(3,"div",3)(4,"label",4),r(5,"Nom de la cat\xE9gorie:"),t(),c(6,"input",5),h(7,Oe,2,0,"p",6),t(),e(8,"div",7)(9,"label",8),r(10,"Description:"),t(),c(11,"textarea",9),t(),e(12,"div",10)(13,"button",11),p("click",function(){return n.addCategory()}),r(14," Ajouter "),t(),c(15,"input",12),t()()(),e(16,"div",13)(17,"div",14)(18,"table",15)(19,"thead")(20,"tr")(21,"th",16),r(22," Nom "),t(),e(23,"th",16),r(24," Description "),t()()(),e(25,"tbody"),h(26,Te,7,2,"tr",17),t()()()()()),o&2&&(a(2),m("formGroup",n.categoryForm),a(5),m("ngIf",n.categoryExist),a(6),m("disabled",!n.categoryForm.valid),a(13),m("ngForOf",n.categories))},dependencies:[F,D,V,U,M,P,j,B]});let d=l;return d})();function Ue(d,l){if(d&1&&(e(0,"option",15),r(1),t()),d&2){let s=l.$implicit;m("value",s.id),a(),f(s.name)}}function Me(d,l){d&1&&(e(0,"p",16),r(1," Ce nom est d\xE9j\xE0 utilis\xE9. "),t())}var be=(()=>{let l=class l{constructor(i,o,n){this.adminService=i,this.fb=o,this.router=n,this.categories=[],this.productNameExist=!1}ngOnInit(){this.productForm=this.fb.group({categoryId:[null,v.required],name:[null,v.required],price:[null,v.required],description:[null,v.required]}),this.getAllCategories()}getAllCategories(){this.adminService.getCategories().subscribe(i=>{this.categories=i})}addProduct(){if(this.productForm.valid){let i=new FormData;console.log("selectedFile >>> "+this.selectedFile),console.log("categoryId >>> "+this.productForm.get("categoryId")?.value),console.log("name>>> "+this.productForm.get("name")?.value),console.log("description >>> "+this.productForm.get("description")?.value),console.log("price >>> "+this.productForm.get("price")?.value),i.append("img",this.selectedFile),i.append("categoryDto.id",this.productForm.get("categoryId")?.value),i.append("name",this.productForm.get("name")?.value),i.append("description",this.productForm.get("description")?.value),i.append("price",this.productForm.get("price")?.value),this.adminService.addProduct(i).subscribe(o=>{console.log("Add Product Successfully !!"),this.router.navigateByUrl("/admin/acceuil"),this.productNameExist=!1},o=>{this.productNameExist=!0,console.log("Error")})}}previewImage(i){let o=i.target,n=new FileReader;n.onload=()=>{let u=document.getElementById("preview");if(u){u.src=n.result;let _=document.querySelector(".image-preview");_&&_.classList.remove("hidden")}},this.selectedFile=o.files[0],n.readAsDataURL(o.files[0])}};l.\u0275fac=function(o){return new(o||l)(g(k),g(E),g(T))},l.\u0275cmp=C({type:l,selectors:[["app-add"]],decls:19,vars:4,consts:[[1,"mt-20","mx-auto","sm:w-4/5","grid","grid-cols-1","gap-y-6","p-2"],[3,"formGroup"],[1,"text-2xl","font-semibold","mt-6","text-center"],[1,"login","mx-5","mt-10","bg-white","grid","grid-cols-1","gap-y-5","rounded-md","p-3","shadow-lg","sm:mx-auto","sm:w-2/4"],["for","file-upload",1,"mx-auto","w-fit","my-auto","cursor-pointer","rounded","bg-[#e8e5e5]","px-4","py-2","text-center","font-bold","text-blue-600","hover:text-white","hover:bg-blue-700"],["id","file-upload","type","file","required","",1,"hidden","w-fit",3,"change"],[1,"image-preview","hidden"],["id","preview","src","","alt","Image Preview"],["required","","formControlName","categoryId",1,"mx-auto","w-full","rounded-md","bg-white","p-2","border","border-gray-300"],[3,"value",4,"ngFor","ngForOf"],["type","text","placeholder","Name","formControlName","name",1,"rounded-md","p-2","border","border-gray-300"],["id","nameInUse","class","text-red-500 text-xs italic",4,"ngIf"],["type","number","required","","placeholder","Price","formControlName","price",1,"rounded-md","p-2","border","border-gray-300"],["cols","7","rows","3","required","","formControlName","description","placeholder","Description",1,"rounded-md","p-2","border","border-gray-300"],["type","submit",1,"w-full","my-auto","py-2","px-4","required","rounded-lg","bg-blue-600","text-white","font-semibold","hover:bg-blue-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-blue-500",3,"click","disabled"],[3,"value"],["id","nameInUse",1,"text-red-500","text-xs","italic"]],template:function(o,n){o&1&&(e(0,"section",0)(1,"form",1)(2,"h2",2),r(3,"Add Product"),t(),e(4,"div",3)(5,"label",4),r(6,"Choose File"),t(),e(7,"input",5),p("change",function(_){return n.previewImage(_)}),t(),e(8,"div",6),c(9,"img",7),t(),e(10,"select",8),h(11,Ue,2,2,"option",9),t(),e(12,"div"),c(13,"input",10),h(14,Me,2,0,"p",11),t(),c(15,"input",12)(16,"textarea",13),e(17,"button",14),p("click",function(){return n.addProduct()}),r(18," Add "),t()()()()),o&2&&(a(),m("formGroup",n.productForm),a(10),m("ngForOf",n.categories),a(3),m("ngIf",n.productNameExist),a(3),m("disabled",!n.productForm.valid))},dependencies:[F,D,V,ie,re,U,ee,te,M,P,Z,j,B],styles:[".image-preview[_ngcontent-%COMP%]{width:200px;height:200px;overflow:hidden;margin:0 auto}.image-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}"]});let d=l;return d})();function Pe(d,l){if(d&1&&(e(0,"tr",16)(1,"td",17),r(2),t(),e(3,"td",17),r(4),t(),e(5,"td",17),r(6),t(),e(7,"td",17),r(8),t(),e(9,"td",17),r(10),t()()),d&2){let s=l.$implicit;a(2),f(s.id),a(2),f(s.name),a(2),f(s.discount),a(2),f(s.code),a(2),x(" ",s.expirationDate.substring(0,10)," ")}}function Ve(d,l){d&1&&(e(0,"p",18),r(1," Ce nom est d\xE9j\xE0 utilis\xE9. "),t())}var ye=(()=>{let l=class l{constructor(i,o){this.adminService=i,this.fb=o,this.coupons=[],this.CouponNameExist=!1}ngOnInit(){this.couponForm=this.fb.group({name:[null,v.required],code:[null,v.required],discount:[null,v.required],expirationDate:[null,v.required]}),console.log("Bsmlah"),this.getCoupons()}getCoupons(){this.adminService.getCoupons().subscribe(i=>{console.log("I get some coupons"),console.log(i.length),console.log(i),this.coupons=i})}addCoupon(){this.coupons=[],this.adminService.addCoupon(this.couponForm.value).subscribe(i=>{console.log(i),this.CouponNameExist=!1,this.getCoupons()},i=>{this.CouponNameExist=!0,this.getCoupons()})}};l.\u0275fac=function(o){return new(o||l)(g(k),g(E))},l.\u0275cmp=C({type:l,selectors:[["app-coupon"]],decls:29,vars:4,consts:[[1,"mt-20","mx-auto","sm:w-4/5","grid","grid-cols-1","gap-y-6","p-2"],[1,"overflow-x-auto","mt-7","px-3"],[1,"min-w-full","table-auto"],[1,"bg-gray-800","text-white"],[1,"px-4","py-2"],[1,"bg-white"],["class","hover:bg-gray-100",4,"ngFor","ngForOf"],[3,"formGroup"],[1,"login","mx-5","mt-16","grid","grid-cols-1","gap-y-5","rounded-md","bg-white","p-3","shadow-lg","sm:w-2/4","sm:mx-auto"],[1,"text-2xl","font-semibold","text-center","mb-6"],["type","text","placeholder","Name","formControlName","name",1,"rounded-lg","border","border-gray-300","p-2"],["id","nameInUse","class","text-red-500 text-xs italic",4,"ngIf"],["type","text","placeholder","Code","formControlName","code",1,"rounded-lg","border","border-gray-300","p-2"],["type","number","placeholder","Discount","formControlName","discount",1,"rounded-lg","border","border-gray-300","p-2"],["type","date","formControlName","expirationDate",1,"rounded-lg","border","border-gray-300","p-2"],["type","submit",1,"w-full","py-2","px-4","required","rounded-lg","bg-blue-600","text-white","font-semibold","hover:bg-blue-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-blue-500",3,"click","disabled"],[1,"hover:bg-gray-100"],[1,"border","px-4","py-2"],["id","nameInUse",1,"text-red-500","text-xs","italic"]],template:function(o,n){o&1&&(e(0,"section",0)(1,"div",1)(2,"table",2)(3,"thead",3)(4,"tr")(5,"th",4),r(6,"Coupon ID"),t(),e(7,"th",4),r(8,"Name"),t(),e(9,"th",4),r(10,"Discount"),t(),e(11,"th",4),r(12,"Code"),t(),e(13,"th",4),r(14,"Expiration Date"),t()()(),e(15,"tbody",5),h(16,Pe,11,5,"tr",6),t()()(),e(17,"form",7)(18,"div",8)(19,"h2",9),r(20,"Add Coupon"),t(),e(21,"div"),c(22,"input",10),h(23,Ve,2,0,"p",11),t(),c(24,"input",12)(25,"input",13)(26,"input",14),e(27,"button",15),p("click",function(){return n.addCoupon()}),r(28," Ajouter "),t()()()()),o&2&&(a(16),m("ngForOf",n.coupons),a(),m("formGroup",n.couponForm),a(6),m("ngIf",n.CouponNameExist),a(4),m("disabled",!n.couponForm.valid))},dependencies:[F,D,V,U,ee,M,P,j,B]});let d=l;return d})();function je(d,l){d&1&&(e(0,"p",22),r(1," Cette question est d\xE9j\xE0 poser. "),t())}function Be(d,l){if(d&1){let s=q();e(0,"div",23)(1,"div",24)(2,"h2",25),r(3),t(),e(4,"p",26),r(5),t(),e(6,"div",27)(7,"button",28),p("click",function(){let o=S(s).$implicit,n=b();return w(n.toggleModalUpdate(o.id))}),r(8," Update "),t(),e(9,"button",29),p("click",function(){let o=S(s).$implicit,n=b();return w(n.toggleModalDelete(o.id))}),r(10," Delete "),t()()()()}if(d&2){let s=l.$implicit;a(3),x("Question : ",s.question,""),a(2),x(" ",s.answer," ")}}function ze(d,l){d&1&&(e(0,"div",30)(1,"h2",31),r(2,"No Faqs Exist."),t()())}function He(d,l){if(d&1){let s=q();e(0,"div",32)(1,"div",33)(2,"div",34)(3,"button",35),p("click",function(){S(s);let o=b();return w(o.toggleModalDelete(o.faqToRemove))}),N(),e(4,"svg",36),c(5,"path",37),t(),A(),e(6,"span",38),r(7,"Close modal"),t()(),e(8,"div",39),N(),e(9,"svg",40),c(10,"path",41),t(),A(),e(11,"h3",42),r(12," Are you sure you want to delete this FAQ ? "),t(),e(13,"button",43),p("click",function(){S(s);let o=b();return w(o.confirmDelete())}),r(14," Yes, I'm sure "),t(),e(15,"button",44),p("click",function(){S(s);let o=b();return w(o.toggleModalDelete(o.faqToRemove))}),r(16," No, cancel "),t()()()()()}}function Re(d,l){d&1&&(e(0,"p",22),r(1," Ce nom est d\xE9j\xE0 utilis\xE9. "),t())}function Ge(d,l){if(d&1){let s=q();e(0,"div",32)(1,"div",45)(2,"div",34)(3,"div",46)(4,"h3",47),r(5," Update this FAQ "),t(),e(6,"button",48),p("click",function(){S(s);let o=b();return w(o.toggleModalUpdate(o.faqToUpdate))}),N(),e(7,"svg",36),c(8,"path",37),t(),A(),e(9,"span",38),r(10,"Close modal"),t()()(),e(11,"form",49)(12,"div",50)(13,"div",51)(14,"label",52),r(15,"Question"),t(),c(16,"input",53),h(17,Re,2,0,"p",13),t(),e(18,"div",51)(19,"label",54),r(20,"Answer Description"),t(),c(21,"textarea",55),t()(),e(22,"button",56),p("click",function(){S(s);let o=b();return w(o.confirmUpdate())}),N(),e(23,"svg",57),c(24,"path",58),t(),r(25," Confirme "),t()()()()()}if(d&2){let s=b();a(11),m("formGroup",s.faqFormToUpdate),a(5),m("value",s.questionUpdate),a(),m("ngIf",s.QuestionAlreadyExist),a(4),m("value",s.answerUpdte),a(),m("disabled",!s.faqFormToUpdate.valid)}}var Se=(()=>{let l=class l{constructor(i,o,n,u){this.adminService=i,this.fb=o,this.router=n,this.route=u,this.haveFaq=!1,this.faqToRemove=-1,this.faqToUpdate=-1,this.questionUpdate="",this.answerUpdte="",this.product={name:"",description:"",price:"",processedImg:"",categoryDto:{name:""}},this.faqs=[],this.faqQuestionExist=!1,this.QuestionAlreadyExist=!1,this.isModalOpenDelete=!1,this.isModalOpenUpdate=!1}ngOnInit(){this.faqForm=this.fb.group({question:[null,v.required],answer:[null,v.required]}),this.faqFormToUpdate=this.fb.group({questionUpdate:[this.questionUpdate,v.required],answerUpdte:[this.answerUpdte,v.required]}),this.route.params.subscribe(i=>{this.productId=+i.idProduct}),this.getProductById(),this.getAllFaq()}getProductById(){this.adminService.getProductById(this.productId).subscribe(i=>{this.product.name=i.name,this.product.description=i.description,this.product.price=i.price,this.product.categoryDto.name=i.categoryDto.name,this.product.processedImg="data:image/jpeg;base64,"+i.byteImg})}getAllFaq(){this.faqs=[],this.adminService.getAllFaqsByProductId(this.productId).subscribe(i=>{i.forEach(o=>{let n={question:o.question,answer:o.answer,id:o.id};this.faqs.push(n)}),this.haveFaq=!1},i=>{this.haveFaq=!0})}addFaq(){let i={question:"string",answer:"string",productDto:{id:"number"}};i.question=this.faqForm.get("question")?.value,i.answer=this.faqForm.get("answer")?.value,i.productDto.id=this.productId+"",this.adminService.addFaq(i).subscribe(o=>{this.getAllFaq()},o=>{console.log("ERRROR CONFLIT"),this.faqQuestionExist=!0})}toggleModalDelete(i){this.faqToRemove=i,this.isModalOpenDelete=!this.isModalOpenDelete}toggleModalUpdate(i){this.faqToUpdate=i,console.log("FAQ SELCTED >> "+this.faqToUpdate),this.adminService.getFaqById(this.faqToUpdate).subscribe(o=>{this.questionUpdate=o.question,this.answerUpdte=o.answer}),this.faqFormToUpdate=this.fb.group({questionUpdate:[this.questionUpdate,v.required],answerUpdte:[this.answerUpdte,v.required]}),this.isModalOpenUpdate=!this.isModalOpenUpdate}confirmUpdate(){return R(this,null,function*(){let i={question:"string",answer:"string",id:4,productDto:{id:-1}};i.id=this.faqToUpdate,i.question=this.faqFormToUpdate.get("questionUpdate")?.value,i.answer=this.faqFormToUpdate.get("answerUpdte")?.value;try{let n=(yield this.adminService.getFaqById(i.id).toPromise()).productDto.id;console.log("idUrg ??? "+n),i.productDto.id=n,yield this.adminService.updateFaq(i).toPromise(),console.log("Update Success !!"),this.toggleModalUpdate(this.faqToUpdate),this.getAllFaq()}catch(o){console.log("Error:",o),this.QuestionAlreadyExist=!0}})}confirmDelete(){this.adminService.deleteFaqById(this.faqToRemove).subscribe(i=>{console.log("Deleting product... "+this.faqToRemove),this.getAllFaq()},i=>{console.log("This faq not exist"),this.getAllFaq()}),this.toggleModalDelete(this.faqToRemove)}};l.\u0275fac=function(o){return new(o||l)(g(k),g(E),g(T),g(Y))},l.\u0275cmp=C({type:l,selectors:[["app-faq"]],decls:32,vars:12,consts:[[1,"mt-20","mx-auto","sm:w-4/5","grid","grid-cols-1","gap-y-6","p-2"],[1,"sm:grid","sm:grid-cols-2"],[1,"flex","mt-8","flex-col","w-2/3","mx-auto","items-center","gap-y-2","p-2","shadow-lg"],[1,"w-fit","mx-auto"],["alt","photo",1,"mx-auto","h-52","w-52","p-2",3,"src"],[1,"text-2xl","font-extrabold"],[1,"font-mono","text-lg","text-blue-500"],[1,"flex","gap-x-3"],[1,"my-auto","font-mono","text-sm","text-blue-500"],[1,"my-auto",3,"formGroup"],[1,"login","mx-5","mt-16","grid","grid-cols-1","gap-y-5","rounded-md","bg-white","p-3","shadow-lg","sm:w-2/4","sm:mx-auto"],[1,"text-2xl","font-semibold","text-center","mb-6"],["type","text","placeholder","question","formControlName","question",1,"rounded-lg","border","border-gray-300","p-2"],["id","nameInUse","class","text-red-500 text-xs italic",4,"ngIf"],["type","text","placeholder","reponse","formControlName","answer",1,"rounded-lg","border","border-gray-300","p-2"],["type","submit",1,"w-full","py-2","px-4","required","rounded-lg","bg-blue-600","text-white","font-semibold","hover:bg-blue-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-blue-500",3,"click","disabled"],[1,"flex","flex-col","items-center","gap-y-2","p-2"],[1,"text-2xl","font-extrabold","text-center","mb-3"],[1,"sm:grid","sm:grid-cols-3","sm:gap-3","p-2","shadow-xl"],["class","rounded-2xl flex gap-4 flex-col gap-y-3",4,"ngFor","ngForOf"],["class","rounded-md p-5 w-fit mx-auto my-auto border border-red-500",4,"ngIf"],["id","popup-modal","tabindex","-1","class","fixed top-0 right-0 left-0 z-50 flex justify-center items-center w-full h-full bg-black bg-opacity-50",4,"ngIf"],["id","nameInUse",1,"text-red-500","text-xs","italic"],[1,"rounded-2xl","flex","gap-4","flex-col","gap-y-3"],[1,"rounded-lg","p-5","my-2","bg-[#d8cccc]","sm:my-auto"],[1,"font-bold"],[1,"font-mono"],[1,"flex","flex-row","gap-x-2","mt-2","justify-end"],["type","button",1,"block","bg-orange-300","p-2","rounded-md",3,"click"],["type","button",1,"block","bg-red-400","p-2","rounded-md",3,"click"],[1,"rounded-md","p-5","w-fit","mx-auto","my-auto","border","border-red-500"],[1,""],["id","popup-modal","tabindex","-1",1,"fixed","top-0","right-0","left-0","z-50","flex","justify-center","items-center","w-full","h-full","bg-black","bg-opacity-50"],[1,"relative","p-4","w-full","max-w-md"],[1,"relative","bg-white","rounded-lg","shadow","dark:bg-gray-700"],["type","button",1,"absolute","top-3","end-2.5","text-gray-400","bg-transparent","hover:bg-gray-200","hover:text-gray-900","rounded-lg","text-sm","w-8","h-8","ms-auto","inline-flex","justify-center","items-center","dark:hover:bg-gray-600","dark:hover:text-white",3,"click"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 14 14",1,"w-3","h-3"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"],[1,"sr-only"],[1,"p-4","md:p-5","text-center"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 20 20",1,"mx-auto","mb-4","text-gray-400","w-12","h-12","dark:text-gray-200"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M10 11V6m0 8h.01M19 10a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"],[1,"mb-5","text-lg","font-normal","text-gray-500","dark:text-gray-400"],["type","button",1,"text-white","bg-red-600","hover:bg-red-800","focus:ring-4","focus:outline-none","focus:ring-red-300","dark:focus:ring-red-800","font-medium","rounded-lg","text-sm","inline-flex","items-center","px-5","py-2.5","text-center",3,"click"],["type","button",1,"py-2.5","px-5","ms-3","text-sm","font-medium","text-gray-900","focus:outline-none","bg-white","rounded-lg","border","border-gray-200","hover:bg-gray-100","hover:text-blue-700","focus:z-10","focus:ring-4","focus:ring-gray-100","dark:focus:ring-gray-700","dark:bg-gray-800","dark:text-gray-400","dark:border-gray-600","dark:hover:text-white","dark:hover:bg-gray-700",3,"click"],[1,"relative","p-4","w-full","max-w-md","max-h-full"],[1,"flex","items-center","justify-between","p-4","md:p-5","border-b","rounded-t","dark:border-gray-600"],[1,"text-lg","font-semibold","text-gray-900","dark:text-white"],["type","button","data-modal-toggle","crud-modal",1,"text-gray-400","bg-transparent","hover:bg-gray-200","hover:text-gray-900","rounded-lg","text-sm","w-8","h-8","ms-auto","inline-flex","justify-center","items-center","dark:hover:bg-gray-600","dark:hover:text-white",3,"click"],[1,"p-4","md:p-5",3,"formGroup"],[1,"grid","gap-4","mb-4","grid-cols-2"],[1,"col-span-2"],["for","name",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["type","text","formControlName","questionUpdate","name","name","id","name","required","",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-primary-600","focus:border-primary-600","block","w-full","p-2.5","dark:bg-gray-600","dark:border-gray-500","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-primary-500","dark:focus:border-primary-500",3,"value"],["for","description",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["id","description","formControlName","answerUpdte","rows","4",1,"block","p-2.5","w-full","text-sm","text-gray-900","bg-gray-50","rounded-lg","border","border-gray-300","focus:ring-blue-500","focus:border-blue-500","dark:bg-gray-600","dark:border-gray-500","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500",3,"value"],["type","submit",1,"text-white","inline-flex","items-center","bg-blue-700","hover:bg-blue-800","focus:ring-4","focus:outline-none","focus:ring-blue-300","font-medium","rounded-lg","text-sm","px-5","py-2.5","text-center","dark:bg-blue-600","dark:hover:bg-blue-700","dark:focus:ring-blue-800",3,"click","disabled"],["fill","currentColor","viewBox","0 0 20 20","xmlns","http://www.w3.org/2000/svg",1,"me-1","-ms-1","w-5","h-5"],["fill-rule","evenodd","d","M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z","clip-rule","evenodd"]],template:function(o,n){o&1&&(e(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3),c(4,"img",4),t(),e(5,"h1",5),r(6),t(),e(7,"p"),r(8),t(),e(9,"h3",6),r(10),t(),e(11,"div",7)(12,"i",8),r(13),t()()(),e(14,"form",9)(15,"div",10)(16,"h2",11),r(17,"Add Faq"),t(),e(18,"div"),c(19,"input",12),h(20,je,2,0,"p",13),t(),c(21,"input",14),e(22,"button",15),p("click",function(){return n.addFaq()}),r(23," Ajouter "),t()()()(),e(24,"div",16)(25,"h1",17),r(26," Frequently Asked Question "),t(),e(27,"div",18),h(28,Be,11,2,"div",19),t(),h(29,ze,3,0,"div",20),t()(),h(30,He,17,0,"div",21)(31,Ge,26,5,"div",21)),o&2&&(a(4),m("src",n.product.processedImg,O),a(2),f(n.product.name),a(2),x(" ",n.product.description," "),a(2),x(" Price :",n.product.price," "),a(3),x("Category :",n.product.categoryDto.name,""),a(),m("formGroup",n.faqForm),a(6),m("ngIf",n.faqQuestionExist),a(2),m("disabled",!n.faqForm.valid),a(6),m("ngForOf",n.faqs),a(),m("ngIf",n.haveFaq),a(),m("ngIf",n.isModalOpenDelete),a(),m("ngIf",n.isModalOpenUpdate))},dependencies:[F,D,V,U,M,P,Z,j,B]});let d=l;return d})();var oe=d=>["/admin/orderDetails/",d];function Le(d,l){if(d&1&&(e(0,"tr",11)(1,"td",12),r(2),t(),e(3,"td",12),r(4),t(),e(5,"td",12),r(6),t(),e(7,"td",12),r(8),t(),e(9,"td",12),r(10),t(),e(11,"td",13)(12,"div")(13,"a",14),r(14,"Details"),t()()()()),d&2){let s=l.$implicit;a(2),f(s.totalAmount),a(2),f(s.orderDescription),a(2),f(s.payment),a(2),f(s.adress),a(2),x(" ",s.dateCreation.substring(0,10)," "),a(3),m("routerLink",Q(6,oe,s.id))}}function $e(d,l){d&1&&(e(0,"tr")(1,"td",15),r(2,"empty"),t(),e(3,"td",15),r(4,"empty"),t(),e(5,"td",15),r(6,"empty"),t(),e(7,"td",15),r(8,"empty"),t(),e(9,"td",15),r(10,"empty"),t(),e(11,"td",15),r(12,"empty"),t()())}function Qe(d,l){if(d&1){let s=q();e(0,"tr",11)(1,"td",12),r(2),t(),e(3,"td",12),r(4),t(),e(5,"td",12),r(6),t(),e(7,"td",12),r(8),t(),e(9,"td",12),r(10),t(),e(11,"td",12)(12,"a",16),r(13,"Details"),t()(),e(14,"td",12)(15,"button",17),p("click",function(o){let n=S(s).$implicit,u=b();return w(u.onSelect(o,n.id,n.userDto.email))}),r(16," To Shipped "),t()()()}if(d&2){let s=l.$implicit;a(2),f(s.trackingId),a(2),f(s.orderDescription),a(2),f(s.payment),a(2),f(s.adress),a(2),x(" ",s.dateCreation.substring(0,10)," "),a(2),m("routerLink",Q(6,oe,s.id))}}function Ye(d,l){d&1&&(e(0,"tr")(1,"td",15),r(2,"----"),t(),e(3,"td",15),r(4,"----"),t(),e(5,"td",15),r(6,"----"),t(),e(7,"td",15),r(8,"----"),t(),e(9,"td",15),r(10,"----"),t(),e(11,"td",15),r(12,"----"),t(),e(13,"td",15),r(14,"----"),t()())}function Ze(d,l){if(d&1){let s=q();e(0,"tr",11)(1,"td",12),r(2),t(),e(3,"td",12),r(4),t(),e(5,"td",12),r(6),t(),e(7,"td",12),r(8),t(),e(9,"td",12),r(10),t(),e(11,"td",12)(12,"a",16),r(13,"Details"),t()(),e(14,"td",12)(15,"button",17),p("click",function(o){let n=S(s).$implicit,u=b();return w(u.onSelectFromShipped(o,n.id,n.userDto.email))}),r(16," To Delivered "),t()()()}if(d&2){let s=l.$implicit;a(2),f(s.trackingId),a(2),f(s.orderDescription),a(2),f(s.payment),a(2),f(s.adress),a(2),x(" ",s.dateCreation.substring(0,10)," "),a(2),m("routerLink",Q(6,oe,s.id))}}function Je(d,l){d&1&&(e(0,"tr")(1,"td",15),r(2,"----"),t(),e(3,"td",15),r(4,"----"),t(),e(5,"td",15),r(6,"----"),t(),e(7,"td",15),r(8,"----"),t(),e(9,"td",15),r(10,"----"),t(),e(11,"td",15),r(12,"----"),t()())}function Ke(d,l){if(d&1&&(e(0,"tr",11)(1,"td",12),r(2),t(),e(3,"td",12),r(4),t(),e(5,"td",12),r(6),t(),e(7,"td",12),r(8),t(),e(9,"td",12),r(10),t(),e(11,"td",12)(12,"a",16),r(13,"Details"),t()()()),d&2){let s=l.$implicit;a(2),f(s.trackingId),a(2),f(s.orderDescription),a(2),f(s.payment),a(2),f(s.adress),a(2),x(" ",s.dateCreation.substring(0,10)," "),a(2),m("routerLink",Q(6,oe,s.id))}}function We(d,l){d&1&&(e(0,"tr")(1,"td",15),r(2,"----"),t(),e(3,"td",15),r(4,"----"),t(),e(5,"td",15),r(6,"----"),t(),e(7,"td",15),r(8,"----"),t(),e(9,"td",15),r(10,"----"),t(),e(11,"td",15),r(12,"----"),t()())}function Xe(d,l){if(d&1){let s=q();e(0,"div",18)(1,"div",19)(2,"div",20)(3,"button",21),p("click",function(){S(s);let o=b();return w(o.toggleModalChangeStatusFromPlaced(o.idOrderToChangeStatusFromPlaced))}),N(),e(4,"svg",22),c(5,"path",23),t(),A(),e(6,"span",24),r(7,"Close modal"),t()(),e(8,"div",25),N(),e(9,"svg",26),c(10,"path",27),t(),A(),e(11,"h3",28),r(12," Are you sure you want Change Status ? "),e(13,"p"),r(14,"(To Shipped)"),t(),e(15,"span",29),r(16),t()(),e(17,"button",30),p("click",function(){S(s);let o=b();return w(o.confirmChangeFromPlaced())}),r(18," Yes, I'm sure "),t(),e(19,"button",31),p("click",function(){S(s);let o=b();return w(o.toggleModalChangeStatusFromPlaced(o.idOrderToChangeStatusFromPlaced))}),r(20," No, cancel "),t()()()()()}if(d&2){let s=b();a(16),x("Message send to : ",s.emailToSend," ")}}function et(d,l){if(d&1){let s=q();e(0,"div",18)(1,"div",19)(2,"div",20)(3,"button",21),p("click",function(){S(s);let o=b();return w(o.toggleModalChangeStatusFromShipped(o.idOrderToChangeStatusFromShipped))}),N(),e(4,"svg",22),c(5,"path",23),t(),A(),e(6,"span",24),r(7,"Close modal"),t()(),e(8,"div",25),N(),e(9,"svg",26),c(10,"path",27),t(),A(),e(11,"h3",28),r(12," Are you sure you want Change Status ? "),e(13,"p"),r(14,"(To Delivered)"),t(),e(15,"span",29),r(16),t()(),e(17,"button",30),p("click",function(){S(s);let o=b();return w(o.confirmChangeFromShipped())}),r(18," Yes, I'm sure "),t(),e(19,"button",31),p("click",function(){S(s);let o=b();return w(o.toggleModalChangeStatusFromShipped(o.idOrderToChangeStatusFromShipped))}),r(20," No, cancel "),t()()()()()}if(d&2){let s=b();a(16),x("Message send to : ",s.emailToSend," ")}}var we=(()=>{let l=class l{constructor(i,o){this.adminService=i,this.fb=o,this.ordersPending=[],this.ordersShipped=[],this.ordersDelivred=[],this.ordersPlaced=[],this.isModalOpenChangeStatusFromPlaced=!1,this.isModalOpenChangeStatusFromShipped=!1,this.idOrderToChangeStatusFromPlaced=-1,this.idOrderToChangeStatusFromShipped=-1,this.idOrderSelcted=-1}ngOnInit(){this.getAllOrders()}getAllOrders(){this.adminService.getAllOrderPending().subscribe(i=>{this.ordersPending=i}),this.adminService.getAllOrderShipped().subscribe(i=>{this.ordersShipped=i}),this.adminService.getOrderDelivered().subscribe(i=>{this.ordersDelivred=i}),this.adminService.getAllOrderPlaced().subscribe(i=>{this.ordersPlaced=i})}onSelect(i,o,n){let u=i.target.value;console.log("Selected option:",u),this.emailToSend=n,this.idOrderSelcted=o,console.log("User slected >> "+this.idOrderSelcted),this.toggleModalChangeStatusFromPlaced(o)}toggleModalChangeStatusFromPlaced(i){this.idOrderToChangeStatusFromPlaced=i,this.isModalOpenChangeStatusFromPlaced=!this.isModalOpenChangeStatusFromPlaced}confirmChangeFromPlaced(){this.adminService.setOrderShipped(this.idOrderSelcted).subscribe(i=>{console.log("Change to Shipped success"),this.getAllOrders(),this.isModalOpenChangeStatusFromPlaced=!this.isModalOpenChangeStatusFromPlaced},i=>{console.log("Error >> "+i)})}onSelectFromShipped(i,o,n){let u=i.target.value;console.log("Selected option:",u),this.emailToSend=n,this.idOrderSelcted=o,console.log("User slected >> "+this.idOrderSelcted),this.toggleModalChangeStatusFromShipped(o)}toggleModalChangeStatusFromShipped(i){this.idOrderToChangeStatusFromShipped=i,this.isModalOpenChangeStatusFromShipped=!this.isModalOpenChangeStatusFromShipped}confirmChangeFromShipped(){console.log("Rak brkti ealaia"),this.adminService.setOrderDelivered(this.idOrderSelcted).subscribe(i=>{console.log("Change to Delivered success"),this.getAllOrders(),this.isModalOpenChangeStatusFromShipped=!this.isModalOpenChangeStatusFromShipped},i=>{console.log("Error >> "+i)})}};l.\u0275fac=function(o){return new(o||l)(g(k),g(E))},l.\u0275cmp=C({type:l,selectors:[["app-order"]],decls:95,vars:10,consts:[[1,"mt-20","mx-auto","sm:w-4/5","grid","grid-cols-1","gap-y-6","p-2"],[1,"overflow-x-auto","mt-7","bg-[#e7e4e4]","p-4"],[1,"mx-auto","w-fit","m-2"],[1,"font-bold","text-lg"],[1,"min-w-full","table-auto"],[1,"bg-gray-800","text-white"],[1,"px-4","py-2"],[1,"bg-white"],["class","hover:bg-gray-100",4,"ngFor","ngForOf"],[4,"ngIf"],["id","popup-modal","tabindex","-1","class","fixed top-0 right-0 left-0 z-50 flex justify-center items-center w-full h-full bg-black bg-opacity-50",4,"ngIf"],[1,"hover:bg-gray-100"],[1,"border","px-4","py-2"],[1,"border","px-4","py-2","mx-auto"],[1,"bg-violet-400","p-2","rounded-md","mx-auto","w-fit",3,"routerLink"],[1,"border","px-4","py-2","font-serif"],[1,"bg-violet-400","p-2","rounded-md",3,"routerLink"],[1,"bg-blue-500","rounded","w-fit","mx-auto","p-1","px-2",3,"click"],["id","popup-modal","tabindex","-1",1,"fixed","top-0","right-0","left-0","z-50","flex","justify-center","items-center","w-full","h-full","bg-black","bg-opacity-50"],[1,"relative","p-4","w-full","max-w-md"],[1,"relative","bg-white","rounded-lg","shadow","dark:bg-gray-700"],["type","button",1,"absolute","top-3","end-2.5","text-gray-400","bg-transparent","hover:bg-gray-200","hover:text-gray-900","rounded-lg","text-sm","w-8","h-8","ms-auto","inline-flex","justify-center","items-center","dark:hover:bg-gray-600","dark:hover:text-white",3,"click"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 14 14",1,"w-3","h-3"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"],[1,"sr-only"],[1,"p-4","md:p-5","text-center"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 20 20",1,"mx-auto","mb-4","text-gray-400","w-12","h-12","dark:text-gray-200"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M10 11V6m0 8h.01M19 10a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"],[1,"mb-5","text-lg","font-normal","text-gray-500","dark:text-gray-400"],[1,"text-sm","text-gray-500","dark:text-gray-400"],["type","button",1,"text-white","bg-red-600","hover:bg-red-800","focus:ring-4","focus:outline-none","focus:ring-red-300","dark:focus:ring-red-800","font-medium","rounded-lg","text-sm","inline-flex","items-center","px-5","py-2.5","text-center",3,"click"],["type","button",1,"py-2.5","px-5","ms-3","text-sm","font-medium","text-gray-900","focus:outline-none","bg-white","rounded-lg","border","border-gray-200","hover:bg-gray-100","hover:text-blue-700","focus:z-10","focus:ring-4","focus:ring-gray-100","dark:focus:ring-gray-700","dark:bg-gray-800","dark:text-gray-400","dark:border-gray-600","dark:hover:text-white","dark:hover:bg-gray-700",3,"click"]],template:function(o,n){o&1&&(e(0,"section",0)(1,"div",1)(2,"div",2)(3,"h1",3),r(4,"Pending Orders"),t()(),e(5,"table",4)(6,"thead",5)(7,"tr")(8,"th",6),r(9,"Amount"),t(),e(10,"th",6),r(11,"Description"),t(),e(12,"th",6),r(13,"Payment"),t(),e(14,"th",6),r(15,"Adress"),t(),e(16,"th",6),r(17,"Date"),t(),e(18,"th",6),r(19,"Details"),t()()(),e(20,"tbody",7),h(21,Le,15,8,"tr",8)(22,$e,13,0,"tr",9),t()()(),e(23,"div",1)(24,"div",2)(25,"h1",3),r(26,"Placed Orders"),t()(),e(27,"table",4)(28,"thead",5)(29,"tr")(30,"th",6),r(31,"TrackerID"),t(),e(32,"th",6),r(33,"Description"),t(),e(34,"th",6),r(35,"Payment"),t(),e(36,"th",6),r(37,"Adress"),t(),e(38,"th",6),r(39,"Date"),t(),e(40,"th",6),r(41,"Details"),t(),e(42,"th",6),r(43,"Action"),t()()(),e(44,"tbody",7),h(45,Qe,17,8,"tr",8)(46,Ye,15,0,"tr",9),t()()(),e(47,"div",1)(48,"div",2)(49,"h1",3),r(50,"Shipped Orders"),t()(),e(51,"table",4)(52,"thead",5)(53,"tr")(54,"th",6),r(55,"TrackerID"),t(),e(56,"th",6),r(57,"Description"),t(),e(58,"th",6),r(59,"Payment"),t(),e(60,"th",6),r(61,"Adress"),t(),e(62,"th",6),r(63,"Date"),t(),e(64,"th",6),r(65,"Details"),t(),e(66,"th",6),r(67,"Action"),t()()(),e(68,"tbody",7),h(69,Ze,17,8,"tr",8)(70,Je,13,0,"tr",9),t()()(),e(71,"div",1)(72,"div",2)(73,"h1",3),r(74,"Delivered Orders"),t()(),e(75,"table",4)(76,"thead",5)(77,"tr")(78,"th",6),r(79,"TrackerID"),t(),e(80,"th",6),r(81,"Description"),t(),e(82,"th",6),r(83,"Payment"),t(),e(84,"th",6),r(85,"Adress"),t(),e(86,"th",6),r(87,"Date"),t(),e(88,"th",6),r(89,"Details"),t()()(),e(90,"tbody",7),h(91,Ke,14,8,"tr",8)(92,We,13,0,"tr",9),t()()()(),h(93,Xe,21,1,"div",10)(94,et,21,1,"div",10)),o&2&&(a(21),m("ngForOf",n.ordersPending),a(),m("ngIf",n.ordersPending.length==0),a(23),m("ngForOf",n.ordersPlaced),a(),m("ngIf",n.ordersPlaced.length==0),a(23),m("ngForOf",n.ordersShipped),a(),m("ngIf",n.ordersShipped.length==0),a(21),m("ngForOf",n.ordersDelivred),a(),m("ngIf",n.ordersDelivred.length==0),a(),m("ngIf",n.isModalOpenChangeStatusFromPlaced),a(),m("ngIf",n.isModalOpenChangeStatusFromShipped))},dependencies:[F,D,X]});let d=l;return d})();function tt(d,l){if(d&1&&(e(0,"div",19),c(1,"img",20),e(2,"h2",21),r(3),t(),e(4,"p",22),r(5),t(),e(6,"p",22),r(7),t(),e(8,"p",22),r(9),t()()),d&2){let s=l.$implicit;a(),m("src",s.processedImg,O),a(2),x(" ",s.productDto.name," "),a(2),x("Price : ",s.productDto.price,""),a(2),x("Quantity : ",s.quantity,""),a(2),x("Payment : ",s.price,"")}}var _e=(()=>{let l=class l{constructor(i,o,n,u){this.adminService=i,this.fb=o,this.router=n,this.route=u,this.cards=[],this.imgUser="",this.firstName="",this.lastName="",this.userName="",this.email="",this.dateCreation=""}ngOnInit(){this.route.params.subscribe(i=>{this.idOrder=+i.idOrder}),this.getAllCards(),console.log("cards >> "+this.cards),console.log("AVant appele ----------------------------"),this.getUser(),console.log("After appele ----------------------------")}getUser(){return R(this,null,function*(){console.log("Avant appele");try{let i=yield this.adminService.getOrderByIdOrder(this.idOrder).toPromise();this.email=i[0].orderDto.userDto.email,this.firstName=i[0].orderDto.userDto.firstName,this.lastName=i[0].orderDto.userDto.lastName,this.userName=i[0].orderDto.userDto.userName,this.dateCreation=i[0].orderDto.userDto.dateCreation,this.imgUser="data:image/jpeg;base64,"+i[0].orderDto.userDto.byteImg,this.totalAmount=i[0].orderDto.totalAmount,this.discount=i[0].orderDto.discount,this.payment=i[0].orderDto.payment,console.log("res[0].orderDto.userDto.byteImg >> "+i[0].orderDto.userDto.byteImg),console.dir(i)}catch(i){console.error("Error occurred while fetching user:",i)}console.log("Email >>>> "+this.email),console.log("payment >>>> "+this.payment),console.log("date >>>> "+this.dateCreation)})}getAllCards(){this.cards=[],this.adminService.getOrderByIdOrder(this.idOrder).subscribe(i=>{i.forEach(o=>{o.processedImg="data:image/jpeg;base64,"+o.productDto.byteImg,this.cards.push(o)})})}};l.\u0275fac=function(o){return new(o||l)(g(k),g(E),g(T),g(Y))},l.\u0275cmp=C({type:l,selectors:[["app-details-order"]],decls:44,vars:10,consts:[[1,"mt-20","mx-auto","sm:w-4/5","grid","grid-cols-1","gap-y-6","p-2"],[1,"grid","grid-cols-1","sm:grid-cols-2","gap-2"],[1,"w-full","my-auto","max-w-sm","bg-white","border","border-gray-200","rounded-lg","shadow","dark:bg-gray-800","dark:border-gray-700"],[1,"flex","justify-end","px-4","pt-4"],["id","dropdown",1,"z-10","hidden","text-base","list-none","bg-white","divide-y","divide-gray-100","rounded-lg","shadow","w-44","dark:bg-gray-700"],["aria-labelledby","dropdownButton",1,"py-2"],["href","#",1,"block","px-4","py-2","text-sm","text-gray-700","hover:bg-gray-100","dark:hover:bg-gray-600","dark:text-gray-200","dark:hover:text-white"],["href","#",1,"block","px-4","py-2","text-sm","text-red-600","hover:bg-gray-100","dark:hover:bg-gray-600","dark:text-gray-200","dark:hover:text-white"],[1,"flex","flex-col","items-center","pb-10"],["alt","Bonnie image",1,"w-24","h-24","mb-3","rounded-full","shadow-lg",3,"src"],[1,"mb-1","text-xl","font-medium","text-gray-900","dark:text-white"],[1,"text-sm","text-gray-500","dark:text-gray-400"],[1,"flex","flex-col","my-auto","items-center","bg-white","border","border-gray-200","rounded-lg","shadow","md:flex-row","md:max-w-xl","hover:bg-gray-100","dark:border-gray-700","dark:bg-gray-800","dark:hover:bg-gray-700"],[1,"flex","flex-col","justify-between","p-4","leading-normal"],[1,"mb-2","text-2xl","font-bold","tracking-tight","text-gray-900","dark:text-white"],[1,"mb-3","text-gray-700","dark:text-gray-400","font-semibold"],[1,"mt-3","grid","grid-cols-1","gap-y-2","bg-[#93decaa4]","p-3"],[1,"grid","grid-cols-1","gap-y-4"],["class","grid grid-cols-1 gap-y-2 rounded-lg bg-[#dab047] p-3 shadow-md sm:grid-cols-5",4,"ngFor","ngForOf"],[1,"grid","grid-cols-1","gap-y-2","rounded-lg","bg-[#dab047]","p-3","shadow-md","sm:grid-cols-5"],["alt","",1,"mx-auto","h-14","w-14","bg-black",3,"src"],[1,"text-center","font-serif","text-xl","my-auto"],[1,"text-center","my-auto"]],template:function(o,n){o&1&&(e(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"ul",5)(6,"li")(7,"a",6),r(8,"Edit"),t()(),e(9,"li")(10,"a",6),r(11,"Export Data"),t()(),e(12,"li")(13,"a",7),r(14,"Delete"),t()()()()(),e(15,"div",8),c(16,"img",9),e(17,"h5",10),r(18),t(),e(19,"span",11),r(20),t(),e(21,"span",11),r(22),t(),e(23,"span",11),r(24),t(),e(25,"span",11),r(26,"Visual Designer"),t()()(),e(27,"div",12)(28,"div",13)(29,"h5",14),r(30," Total Amount : "),e(31,"span",15),r(32),t()(),e(33,"h5",14),r(34," Discount : "),e(35,"span",15),r(36),t()(),e(37,"h5",14),r(38," Amount : "),e(39,"span",15),r(40),t()()()()(),e(41,"div",16)(42,"div",17),h(43,tt,10,5,"div",18),t()()()),o&2&&(a(16),m("src",n.imgUser,O),a(2),x(" ",n.userName," "),a(2),pe("Full Name :",n.firstName," - ",n.lastName,""),a(2),f(n.email),a(2),f(n.dateCreation),a(8),x("",n.totalAmount," DH"),a(4),x("",n.discount,"DH"),a(4),x("",n.payment," DH"),a(3),m("ngForOf",n.cards))},dependencies:[F]});let d=l;return d})();function it(d,l){d&1&&(e(0,"p",25),r(1," Ce nom est d\xE9j\xE0 utilis\xE9. "),t())}function rt(d,l){d&1&&(e(0,"p",25),r(1," Cette email est d\xE9j\xE0 utilis\xE9. "),t())}function ot(d,l){d&1&&(e(0,"div",26),r(1,` Product added to Favoris.
`),t())}var Ce=(()=>{let l=class l{constructor(i,o,n,u,_){this.adminService=i,this.fb=o,this.router=n,this.route=u,this.appComponent=_,this.idUser=W.getUserId(),this.imgUser="",this.firstName="",this.lastName="",this.userName="",this.email="",this.dateCreation="",this.password="",this.showNotificationChangeSucess=!1,this.userNameExist=!1,this.emailExist=!1,this.passwordNoMatch=!1,this.hidePassword=!0,console.log("(Avant CONS ) firstName >> "+this.firstName),console.log("construduto"),this.getUser(),console.log("(After CONS ) firstName >> "+this.firstName)}ngOnInit(){this.profileForm=this.fb.group({firstName:[,v.required],lastName:[,v.required],userName:[,v.required],email:[,[v.required,v.email]],password:[,v.required]})}passwordMatchValidator(i){let o=i.get("password"),n=i.get("rePassword");return o&&n&&o.value!==n.value?{passwordMismatch:!0}:(this.passwordNoMatch=!0,null)}getUser(){return R(this,null,function*(){console.log("Avant appele");try{let i=yield this.adminService.findUserById(this.idUser).toPromise();this.email=i.email,this.firstName=i.firstName,this.lastName=i.lastName,this.userName=i.userName,this.dateCreation=i.dateCreation,this.imgUser="data:image/jpeg;base64,"+i.img,this.urlOfImg=i.img}catch(i){console.error("Error occurred while fetching user:",i)}console.log("Inside getUSER() --->> "+this.firstName)})}previewImage(i){let o=i.target,n=new FileReader;n.onload=()=>{let u=document.getElementById("preview");if(u){u.src=n.result;let _=document.querySelector(".image-preview");_&&_.classList.remove("hidden")}},this.selectedFile=o.files[0],n.readAsDataURL(o.files[0])}updateUser(){if(this.profileForm.valid){let i={id:5,firstName:"",lastName:"",userName:"",email:"",password:"",img:this.selectedFile};i.id=this.idUser,i.firstName=this.profileForm.get("firstName")?.value,i.lastName=this.profileForm.get("lastName")?.value,i.userName=this.profileForm.get("userName")?.value,i.email=this.profileForm.get("email")?.value,i.password=this.profileForm.get("password")?.value,console.log("Value of data :"),console.dir(i);let o=new FormData;if(this.selectedFile!=null)o.append("img",this.selectedFile);else{let n=this.dataURLToBlob(this.imgUser);o.append("img",n)}o.append("firstName",this.profileForm.get("firstName")?.value),o.append("lastName",this.profileForm.get("lastName")?.value),o.append("userName",this.profileForm.get("userName")?.value),o.append("email",this.profileForm.get("email")?.value),o.append("password",this.profileForm.get("password")?.value),o.append("id",this.idUser.toString()),this.adminService.changeProfil(o).subscribe(n=>{console.log("Change Success !!"),console.log("formData2 >> "+i),this.emailExist=!1,this.userNameExist=!1,W.signOut(),this.appComponent.isAdminLoggedIn=!1,this.appComponent.isCustomerLoggedIn=!1,this.router.navigateByUrl("login"),this.showNotificationChangeSucess=!0,setTimeout(()=>{this.showNotificationChangeSucess=!1},3e3)},n=>{console.log("Error >> "+n),console.log("error.message >> "+n.err),n.status==404&&(this.emailExist=!0),n.status==409&&(this.userNameExist=!0)})}else console.log("INVALID FORM")}togglePasswordVisibility(){this.hidePassword=!this.hidePassword}dataURLToBlob(i){let o=i.split(","),n=atob(o[1]),u=o[0].split(":")[1].split(";")[0],_=new ArrayBuffer(n.length),K=new Uint8Array(_);for(let I=0;I<n.length;I++)K[I]=n.charCodeAt(I);return new Blob([_],{type:u})}};l.\u0275fac=function(o){return new(o||l)(g(k),g(E),g(T),g(Y),g(he))},l.\u0275cmp=C({type:l,selectors:[["app-profile"]],decls:41,vars:13,consts:[[1,"m-6","mt-24","mx-auto","flex","w-3/4","sm:w-fit","flex-col","gap-y-3","rounded-2xl","bg-[#e6e2e2]","p-2"],[3,"formGroup"],[1,"grid","w-fit","p-3","sm:grid-cols-2","mx-auto","gap-x-2","gap-y-2"],[1,"image-preview"],["id","preview","alt","Image Preview",3,"src"],[1,"flex","flex-col","gap-y-3","sm:my-auto"],["id","file-upload","type","file","required","",1,"hidden","w-fit",3,"change"],["for","file-upload",1,"rounded-lg","bg-[#244a8c]","p-4","font-mono","text-xl","text-white","cursor-pointer"],[1,"image-preview","hidden"],["id","preview"],[1,"grid","gap-y-4"],[1,"grid","sm:grid-cols-2","gap-y-3","sm:gap-x-2"],[1,"flex","flex-col"],[1,"font-normal","text-[#244a8c]"],["formControlName","firstName","type","text",1,"rounded-md","p-2","font-normal","focus:border","focus:border-[#244a8c]","focus:outline-none",3,"placeholder"],["formControlName","lastName","type","text",1,"rounded-md","p-2","font-normal","focus:border","focus:border-[#244a8c]","focus:outline-none",3,"placeholder"],["formControlName","userName","type","text",1,"rounded-md","p-2","font-normal","focus:border","focus:border-[#244a8c]","focus:outline-none",3,"placeholder"],["id","nameInUse","class","text-red-500 text-xs italic",4,"ngIf"],["formControlName","email","type","text",1,"rounded-md","p-2","font-normal","focus:border","focus:border-[#244a8c]","focus:outline-none",3,"placeholder"],[1,"relative"],["formControlName","password",1,"rounded-md","p-2","font-normal","focus:border","focus:border-[#244a8c]","focus:outline-none",3,"placeholder"],[1,"absolute","inset-y-0","right-0","px-3","flex","items-center",3,"click"],[1,"flex","justify-center","my-3","gap-x-3"],[1,"rounded-xl","p-2","px-3","font-mono","text-white","hover:bg-[#0d46d7]",3,"click","disabled"],["class","fixed bottom-0 right-0 m-4 bg-green-500 text-white p-4 rounded shadow",4,"ngIf"],["id","nameInUse",1,"text-red-500","text-xs","italic"],[1,"fixed","bottom-0","right-0","m-4","bg-green-500","text-white","p-4","rounded","shadow"]],template:function(o,n){o&1&&(e(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3),c(4,"img",4),t(),e(5,"div",5)(6,"input",6),p("change",function(_){return n.previewImage(_)}),t(),e(7,"label",7),r(8,"Change Picture"),t()(),e(9,"div",8),c(10,"img",9),t()(),e(11,"div",10)(12,"div",11)(13,"div",12)(14,"label",13),r(15,"Your first Name"),t(),c(16,"input",14),t(),e(17,"div",12)(18,"label",13),r(19,"Your last Name"),t(),c(20,"input",15),t()(),e(21,"div",12)(22,"label",13),r(23,"Your UserName"),t(),c(24,"input",16),h(25,it,2,0,"p",17),t(),e(26,"div",12)(27,"label",13),r(28,"Your Email"),t(),c(29,"input",18),h(30,rt,2,0,"p",17),t(),e(31,"div",12)(32,"label",13),r(33,"Your Password"),t(),e(34,"div",19),c(35,"input",20),e(36,"button",21),p("click",function(){return n.togglePasswordVisibility()}),t()()()(),e(37,"div",22)(38,"button",23),p("click",function(){return n.updateUser()}),r(39," Change "),t()()()(),h(40,ot,2,0,"div",24)),o&2&&(a(),m("formGroup",n.profileForm),a(3),m("src",n.imgUser,O),a(12),m("placeholder",n.firstName),a(4),m("placeholder",n.lastName),a(4),m("placeholder",n.userName),a(),m("ngIf",n.userNameExist),a(4),m("placeholder",n.email),a(),m("ngIf",n.emailExist),a(5),m("placeholder",n.password),a(3),ce("background-color",n.profileForm.valid&&(n.selectedFile!=null||n.imgUser!="")?"green":"red"),m("disabled",!n.profileForm.valid&&(n.selectedFile!=null||n.imgUser!="")),a(2),m("ngIf",n.showNotificationChangeSucess))},dependencies:[D,V,U,M,P,j,B],styles:[".image-preview[_ngcontent-%COMP%]{width:200px;height:200px;overflow:hidden;margin:0 auto;border-radius:50%}.image-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:50%}"]});let d=l;return d})();function nt(d,l){if(d&1&&(e(0,"div",3)(1,"div",4),c(2,"img",5),t(),e(3,"div",1)(4,"div",6)(5,"h2",7),r(6,"First Name :"),t(),e(7,"h3"),r(8),t()(),e(9,"div",6)(10,"h2",7),r(11,"Last Name :"),t(),e(12,"h3"),r(13),t()(),e(14,"div",6)(15,"h2",7),r(16,"User Name :"),t(),e(17,"h3"),r(18,"omarZgr"),t()(),e(19,"div",6)(20,"h2",7),r(21,"Email :"),t(),e(22,"h3"),r(23),t()(),e(24,"div",6)(25,"h2",7),r(26,"Date Creation :"),t(),e(27,"h3"),r(28),t()()()()),d&2){let s=l.$implicit;a(2),m("src",s.processedImg,O),a(6),f(s.firstName),a(5),f(s.lastName),a(10),f(s.email),a(5),x("",s.dateCreation!=null||s.dateCreation!=null?s.dateCreation.substring(0,10):"empty"," ")}}var Ee=(()=>{let l=class l{constructor(i,o,n){this.adminService=i,this.fb=o,this.router=n,this.users=[]}ngOnInit(){this.getAllUser()}getAllUser(){this.users=[],this.adminService.getAllUser().subscribe(i=>{i.forEach(o=>{console.log(o),o.processedImg="data:image/jpeg;base64,"+o.img,this.users.push(o)})})}};l.\u0275fac=function(o){return new(o||l)(g(k),g(E),g(T))},l.\u0275cmp=C({type:l,selectors:[["app-users"]],decls:3,vars:1,consts:[[1,"mt-20","mx-auto","sm:w-3/5","grid","grid-cols-1","gap-y-6","p-2"],[1,"grid","grid-cols-1","gap-y-2"],["class","grid grid-cols-1 sm:grid-cols-2 shadow-xl p-4 m-3   sm:gap-x-4 bg-[#e3b5b5] rounded-2xl",4,"ngFor","ngForOf"],[1,"grid","grid-cols-1","sm:grid-cols-2","shadow-xl","p-4","m-3","sm:gap-x-4","bg-[#e3b5b5]","rounded-2xl"],[1,"image-preview"],["alt","",3,"src"],[1,"flex","flex-row","gap-x-3"],[1,"font-serif","underline"]],template:function(o,n){o&1&&(e(0,"section",0)(1,"div",1),h(2,nt,29,5,"div",2),t()()),o&2&&(a(2),m("ngForOf",n.users))},dependencies:[F],styles:[".image-preview[_ngcontent-%COMP%]{width:200px;height:200px;overflow:hidden;margin:0 auto;border-radius:50%}.image-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:50%}"]});let d=l;return d})();var at=[{path:"",component:fe},{path:"acceuil",component:xe},{path:"category",component:ve},{path:"product",component:be},{path:"coupon",component:ye},{path:"faq/:idProduct",component:Se},{path:"order",component:we},{path:"profile",component:Ce},{path:"users",component:Ee},{path:"orderDetails/:idOrder",component:_e}],Rt=(()=>{let l=class l{};l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=me({type:l}),l.\u0275inj=le({imports:[ne.forChild(at),ne]});let d=l;return d})();export{k as a,Rt as b};
