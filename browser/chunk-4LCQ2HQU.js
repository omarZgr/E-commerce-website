import{a as Q,b as me}from"./chunk-MEQ5WI7N.js";import{A as c,D as A,E as C,F as I,G as ne,H as ae,I as se,M as P,O as F,P as M,Q as ie,R as j,S as v,T as V,U as H,V as R,X as $,Y as L,a as U,aa as de,ba as D,c as re,ca as le,d as Z,da as N,e as oe,f as S,g as J,h as w,i as E,j as ee,k as te,l as _,m as d,n as p,o as u,p as m,q as K,s as t,t as i,u as h,v as k,w as x,x as y,y as o,z as g}from"./chunk-P5H7NKNW.js";var ce=(()=>{let a=class a{};a.\u0275fac=function(r){return new(r||a)},a.\u0275cmp=S({type:a,selectors:[["app-customer"]],decls:2,vars:0,template:function(r,s){r&1&&(t(0,"p"),o(1,"customer works!"),i())}});let n=a;return n})();var f="http://localhost:9023/api/customer",T=(()=>{let a=class a{constructor(e){this.http=e}getAllProduct(){return this.http.get(f+"/products",{headers:this.createAuthorizationHeader()})}searchProduct(e){return console.log("value of productName ::  "+e),this.http.get(f+`/product/search/${e}`,{headers:this.createAuthorizationHeader()})}addToPanier(e,r){return console.log("idUSer : "+e),console.log("idProduct : "+r),this.http.get(f+`/addProduct/${e}/${r}`,{headers:this.createAuthorizationHeader()})}initOrder(e){return this.http.get(f+`/order/init/${e}`,{headers:this.createAuthorizationHeader()})}getAllFavorite(e){return this.http.get(f+`/favoris/${e}`,{headers:this.createAuthorizationHeader()})}addFavoris(e,r){return this.http.get(f+`/favoris/${r}/${e}`,{headers:this.createAuthorizationHeader()})}getCartOfOrderPending(e){return this.http.get(f+`/order/pending/${e}`,{headers:this.createAuthorizationHeader()})}applyCoupon(e,r){return this.http.get(f+`/coupon/${r}/${e}`,{headers:this.createAuthorizationHeader()})}incrementQuantity(e){return this.http.get(f+`/carteItemIn/${e}`,{headers:this.createAuthorizationHeader()})}decrementQuantity(e){return this.http.get(f+`/carteItemDe/${e}`,{headers:this.createAuthorizationHeader()})}getQuantityInCard(e){return this.http.get(f+`/card/${e}`,{headers:this.createAuthorizationHeader()})}deleteCard(e){return this.http.delete(f+`/card/${e}`,{headers:this.createAuthorizationHeader()})}placerOrder(e,r,s,b){return this.http.get(f+`/order/${e}/${r}/${b}/${s}`,{headers:this.createAuthorizationHeader()})}deleteFavoris(e,r){return this.http.delete(f+`/favoris/${e}/${r}`,{headers:this.createAuthorizationHeader()})}findUserById(e){return this.http.get(f+`/profile/${e}`,{headers:this.createAuthorizationHeader()})}changeProfil(e){return this.http.post(f+"/changeProfile",e,{headers:this.createAuthorizationHeader()})}getOrderPending(e){return this.http.get(f+`/order/pendingOrder/${e}`,{headers:this.createAuthorizationHeader()})}getOrderPlaced(e){return this.http.get(f+`/order/placed/${e}`,{headers:this.createAuthorizationHeader()})}getOrderShipped(e){return this.http.get(f+`/order/shipped/${e}`,{headers:this.createAuthorizationHeader()})}getOrderDelivered(e){return this.http.get(f+`/order/delivered/${e}`,{headers:this.createAuthorizationHeader()})}createAuthorizationHeader(){return new ae().set("Authorization","Bearer "+N.getToken())}};a.\u0275fac=function(r){return new(r||a)(oe(se))},a.\u0275prov=re({token:a,factory:a.\u0275fac,providedIn:"root"});let n=a;return n})();var we=n=>["/customer/faq/",n];function Ee(n,a){if(n&1){let l=k();t(0,"div",8)(1,"div",9),h(2,"img",10),i(),t(3,"h2",11),o(4),i(),t(5,"p"),o(6),i(),t(7,"div",12)(8,"p"),o(9),i(),t(10,"p"),o(11),i()(),t(12,"div",13)(13,"a",14),o(14,"FAQ"),i(),t(15,"button",15),x("click",function(){let r=w(l).$implicit,s=y();return E(s.addToCart(r.id))}),o(16," Add To Cart "),i(),t(17,"div",16)(18,"button",17),x("click",function(){let r=w(l).$implicit,s=y();return E(s.favoris(r.id))}),h(19,"img",18),i()()()()}if(n&2){let l=a.$implicit;d(2),m("src",l.processedImg,_)("alt",l.img),d(2),g(l.name),d(2),c(" ",l.description," "),d(3),c("Price :",l.price,""),d(2),c("Category : ",l.category.name,""),d(2),m("routerLink",A(7,we,l.id))}}function _e(n,a){n&1&&(t(0,"div",19)(1,"h2",9),o(2,"No products found."),i()())}function Ce(n,a){n&1&&(t(0,"div",20),o(1,` Product added to cart successfully.
`),i())}function Ie(n,a){n&1&&(t(0,"div",21),o(1,` Product already selected.
`),i())}function Fe(n,a){n&1&&(t(0,"div",20),o(1,` Product added to Favoris.
`),i())}function De(n,a){n&1&&(t(0,"div",21),o(1,` Product already in Favoris List.
`),i())}var pe=(()=>{let a=class a{constructor(e,r,s){this.customerService=e,this.fb=r,this.router=s,this.idUser=N.getUserId(),this.products=[],this.productsFavoris=[],this.showNotification=!1,this.showProductExistNotification=!1,this.showNotificationFavorisTrue=!1,this.showNotificationCantFavorisFalse=!1}ngOnInit(){this.searchForm=this.fb.group({title:[null,v.required]}),this.getAllProducts(),this.checkOrderPendingExist(),this.getAllFavorite()}getAllProducts(){this.products=[],this.customerService.getAllProduct().subscribe(e=>{e.forEach(r=>{r.processedImg="data:image/jpeg;base64,"+r.img,this.products.push(r)})})}getProductByName(){this.products=[];let e=this.searchForm.get("title")?.value;e?this.customerService.searchProduct(e).subscribe(r=>{console.log(r),r.forEach(s=>{console.log(s),s.processedImg="data:image/jpeg;base64,"+s.byteImg,this.products.push(s)})}):this.getAllProducts()}getFaqByProductId(e){console.log("productId >>> "+e),this.router.navigate(["/faq"+e])}checkOrderPendingExist(){this.customerService.getCartOfOrderPending(this.idUser).subscribe(e=>{console.log("Order Pending already Exist !"),console.log("PENDIIIIIIIING >>> "+e),console.dir(e),this.idOrderPending=e.id},e=>{console.log("Error >> ",e),e.status===406?(console.log("Error: 406 Not Acceptable"),console.log("IdUSER>>> "+this.idUser),this.customerService.initOrder(this.idUser).subscribe(r=>{console.log("RESULT OF INIT >>> "+r),console.dir(r),this.idOrderPending=r.id},r=>{console.log("error in init >> "+r)})):console.log("Unknown error occurred.")})}addToCart(e){this.customerService.addToPanier(this.idUser,e).subscribe(r=>{console.log("Add Success !!"),this.showNotification=!0,setTimeout(()=>{this.showNotification=!1},3e3)},r=>{console.log("Error:",r),console.log("AM HERE"),this.showProductExistNotification=!0,setTimeout(()=>{this.showProductExistNotification=!1},3e3),console.log("Error occurred while adding product:",r)})}getAllFavorite(){this.customerService.getAllFavorite(this.idUser).subscribe(e=>{e.forEach(r=>{this.productsFavoris.push(r.name)})})}favoris(e){console.log("idProduct >>> "+e),this.customerService.addFavoris(this.idUser,e).subscribe(r=>{console.log("----------add success"),this.showNotificationFavorisTrue=!0,setTimeout(()=>{this.showNotificationFavorisTrue=!1},3e3)},r=>{console.log("------------Error:",r),r.status===409?(this.showNotificationCantFavorisFalse=!0,setTimeout(()=>{this.showNotificationCantFavorisFalse=!1},3e3)):(console.log("----------add success"),this.showNotificationFavorisTrue=!0,setTimeout(()=>{this.showNotificationFavorisTrue=!1},3e3))})}};a.\u0275fac=function(r){return new(r||a)(p(T),p(D),p(F))},a.\u0275cmp=S({type:a,selectors:[["app-home"]],decls:10,vars:7,consts:[[1,"mt-20","sm:mt-0","sm:w-4/5","grid","grid-cols-1","gap-y-6","p-2","mx-auto"],[1,"mx-auto","sm:mt-24",3,"submit","formGroup"],["type","search","placeholder","Search","formControlName","title",1,"mx-auto","border","border-gray-300","rounded-md","p-2","bg-slate-200","focus:outline-none"],[1,"productes","grid","grid-cols-1","gap-3","p-2","sm:grid-cols-2","md:grid-cols-3"],["class","product shadow-2xl rounded-md p-5 flex flex-col gap-y-3",4,"ngFor","ngForOf"],["class","rounded-md p-5 w-fit mx-auto my-auto border border-red-500",4,"ngIf"],["class","fixed bottom-0 right-0 m-4 bg-green-500 text-white p-4 rounded shadow",4,"ngIf"],["class","fixed bottom-0 right-0 m-4 bg-red-500 text-white p-4 rounded shadow",4,"ngIf"],[1,"product","shadow-2xl","rounded-md","p-5","flex","flex-col","gap-y-3"],[1,""],[1,"mx-auto","h-52","w-52",3,"src","alt"],[1,"font-semibold","text-blue-600"],[1,"flex","flex-row","justify-between","shadow-xl","p-2"],[1,"flex","flex-row","justify-center","gap-x-3","shadow-sm","p-2","sm:grid","sm:grid-cols-2","sm:gap-y-2"],[1,"bg-violet-400","p-2","rounded-md",3,"routerLink"],["type","button",1,"block","bg-orange-300","p-2","rounded-md",3,"click"],[1,"w-fit","p-2","flex","flex-wrap"],[3,"click"],["src","https://img.icons8.com/ios-filled/50/like--v1.png","alt","like--v1",1,"h-8"],[1,"rounded-md","p-5","w-fit","mx-auto","my-auto","border","border-red-500"],[1,"fixed","bottom-0","right-0","m-4","bg-green-500","text-white","p-4","rounded","shadow"],[1,"fixed","bottom-0","right-0","m-4","bg-red-500","text-white","p-4","rounded","shadow"]],template:function(r,s){r&1&&(t(0,"section",0)(1,"form",1),x("submit",function(){return s.getProductByName()}),h(2,"input",2),i(),t(3,"div",3),u(4,Ee,20,9,"div",4),i(),u(5,_e,3,0,"div",5),i(),u(6,Ce,2,0,"div",6)(7,Ie,2,0,"div",7)(8,Fe,2,0,"div",6)(9,De,2,0,"div",7)),r&2&&(d(),m("formGroup",s.searchForm),d(3),m("ngForOf",s.products),d(),m("ngIf",s.products.length==0),d(),m("ngIf",s.showNotification),d(),m("ngIf",s.showProductExistNotification),d(),m("ngIf",s.showNotificationFavorisTrue),d(),m("ngIf",s.showNotificationCantFavorisFalse))},dependencies:[C,I,M,R,j,V,H,$,L]});let n=a;return n})();function ke(n,a){if(n&1&&(t(0,"div",14)(1,"div",15)(2,"h2",16),o(3),i(),t(4,"p",17),o(5),i()(),t(6,"div",15)(7,"h2",16),o(8),i(),t(9,"p",17),o(10),i()()()),n&2){let l=a.$implicit;d(3),c("Question : ",l.question,""),d(2),c(" ",l.answer," "),d(3),c("Question : ",l.question,""),d(2),c(" ",l.answer," ")}}function Ae(n,a){n&1&&(t(0,"div",18)(1,"h2",19),o(2,"No Faqs Exist."),i()())}var ue=(()=>{let a=class a{constructor(e,r,s,b){this.adminService=e,this.fb=r,this.router=s,this.route=b,this.haveFaq=!1,this.faqToRemove=-1,this.faqToUpdate=-1,this.questionUpdate="",this.answerUpdte="",this.product={name:"",description:"",price:"",processedImg:"",categoryDto:{name:""}},this.faqs=[],this.faqQuestionExist=!1,this.QuestionAlreadyExist=!1,this.isModalOpenDelete=!1,this.isModalOpenUpdate=!1}ngOnInit(){this.faqForm=this.fb.group({question:[null,v.required],answer:[null,v.required]}),this.faqFormToUpdate=this.fb.group({questionUpdate:[this.questionUpdate,v.required],answerUpdte:[this.answerUpdte,v.required]}),this.route.params.subscribe(e=>{this.productId=+e.idProduct}),this.getProductById(),this.getAllFaq()}getProductById(){this.adminService.getProductById(this.productId).subscribe(e=>{this.product.name=e.name,this.product.description=e.description,this.product.price=e.price,this.product.categoryDto.name=e.categoryDto.name,this.product.processedImg="data:image/jpeg;base64,"+e.byteImg})}getAllFaq(){this.faqs=[],this.adminService.getAllFaqsByProductId(this.productId).subscribe(e=>{e.forEach(r=>{let s={question:r.question,answer:r.answer,id:r.id};this.faqs.push(s)}),this.haveFaq=!1},e=>{this.haveFaq=!0})}addFaq(){let e={question:"string",answer:"string",productDto:{id:"number"}};e.question=this.faqForm.get("question")?.value,e.answer=this.faqForm.get("answer")?.value,e.productDto.id=this.productId+"",this.adminService.addFaq(e).subscribe(r=>{this.getAllFaq()},r=>{console.log("ERRROR CONFLIT"),this.faqQuestionExist=!0})}toggleModalDelete(e){this.faqToRemove=e,this.isModalOpenDelete=!this.isModalOpenDelete}toggleModalUpdate(e){this.faqToUpdate=e,console.log("FAQ SELCTED >> "+this.faqToUpdate),this.adminService.getFaqById(this.faqToUpdate).subscribe(r=>{this.questionUpdate=r.question,this.answerUpdte=r.answer}),this.faqFormToUpdate=this.fb.group({questionUpdate:[this.questionUpdate,v.required],answerUpdte:[this.answerUpdte,v.required]}),this.isModalOpenUpdate=!this.isModalOpenUpdate}confirmUpdate(){return U(this,null,function*(){let e={question:"string",answer:"string",id:4,productDto:{id:-1}};e.id=this.faqToUpdate,e.question=this.faqFormToUpdate.get("questionUpdate")?.value,e.answer=this.faqFormToUpdate.get("answerUpdte")?.value;try{let s=(yield this.adminService.getFaqById(e.id).toPromise()).productDto.id;console.log("idUrg ??? "+s),e.productDto.id=s,yield this.adminService.updateFaq(e).toPromise(),console.log("Update Success !!"),this.toggleModalUpdate(this.faqToUpdate),this.getAllFaq()}catch(r){console.log("Error:",r),this.QuestionAlreadyExist=!0}})}confirmDelete(){this.adminService.deleteFaqById(this.faqToRemove).subscribe(e=>{console.log("Deleting product... "+this.faqToRemove),this.getAllFaq()},e=>{console.log("This faq not exist"),this.getAllFaq()}),this.toggleModalDelete(this.faqToRemove)}};a.\u0275fac=function(r){return new(r||a)(p(Q),p(D),p(F),p(P))},a.\u0275cmp=S({type:a,selectors:[["app-faq"]],decls:20,vars:7,consts:[[1,"mt-20","sm:mt-0","sm:w-4/5","grid","grid-cols-1","gap-y-6","p-2","mx-auto"],[1,"sm:mt-20","sm:grid","sm:grid-cols-2"],[1,"flex","mt-8","flex-col","w-2/3","mx-auto","items-center","gap-y-2","p-2","shadow-lg"],[1,"w-fit","mx-auto"],["alt","photo",1,"mx-auto","h-52","w-52","p-2",3,"src"],[1,"text-2xl","font-extrabold"],[1,"font-mono","text-lg","text-blue-500"],[1,"flex","gap-x-3"],[1,"my-auto","font-mono","text-sm","text-blue-500"],[1,"flex","flex-col","items-center","gap-y-2","p-2"],[1,"text-2xl","font-extrabold","text-center","mb-3"],[1,"sm:grid","sm:grid-cols-2","sm:gap-3","p-2","shadow-xl"],["class","rounded-2xl flex gap-4 flex-col gap-y-3",4,"ngFor","ngForOf"],["class","rounded-md p-5 w-fit mx-auto my-auto border border-red-500",4,"ngIf"],[1,"rounded-2xl","flex","gap-4","flex-col","gap-y-3"],[1,"rounded-lg","p-5","my-2","bg-[#d8cccc]","sm:my-auto","w-fit"],[1,"font-bold"],[1,"font-mono"],[1,"rounded-md","p-5","w-fit","mx-auto","my-auto","border","border-red-500"],[1,""]],template:function(r,s){r&1&&(t(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3),h(4,"img",4),i(),t(5,"h1",5),o(6),i(),t(7,"p"),o(8),i(),t(9,"h3",6),o(10),i(),t(11,"div",7)(12,"i",8),o(13),i()()(),t(14,"div",9)(15,"h1",10),o(16," Frequently Asked Question "),i(),t(17,"div",11),u(18,ke,11,4,"div",12),i(),u(19,Ae,3,0,"div",13),i()()()),r&2&&(d(4),m("src",s.product.processedImg,_),d(2),g(s.product.name),d(2),c(" ",s.product.description," "),d(2),c(" Price :",s.product.price," "),d(3),c("Category :",s.product.categoryDto.name,""),d(5),m("ngForOf",s.faqs),d(),m("ngIf",s.haveFaq))},dependencies:[C,I]});let n=a;return n})();function Oe(n,a){if(n&1){let l=k();t(0,"div",17),h(1,"img",18),t(2,"h2",19),o(3),i(),t(4,"p",20),o(5),i(),t(6,"div",21)(7,"button",22),x("click",function(){let r=w(l).$implicit,s=y(2);return E(s.decrementQuantity(r.id))}),o(8," Dec "),i(),t(9,"p",23),o(10),i(),t(11,"button",24),x("click",function(){let r=w(l).$implicit,s=y(2);return E(s.incrementQuantity(r.id))}),o(12," Inc "),i()()()}if(n&2){let l=a.$implicit;d(),m("src",l.processedImg,_),d(2),c(" ",l.productDto.name," "),d(2),c("Payment : ",l.price,""),d(5),c(" Quantity : ",l.quantity," ")}}function Te(n,a){n&1&&(t(0,"p",30),o(1," Ce code n'est pas exist "),i())}function Ue(n,a){if(n&1){let l=k();t(0,"div",25)(1,"form",26),h(2,"input",27),u(3,Te,2,0,"p",28),i(),t(4,"input",29),x("click",function(){w(l);let r=y(2);return E(r.applyCoupon())}),i()()}if(n&2){let l=y(2);d(),m("formGroup",l.couponForm),d(2),m("ngIf",l.codeExist),d(),m("disabled",!l.couponForm.valid)}}function Pe(n,a){if(n&1){let l=k();t(0,"div",4)(1,"div",5),u(2,Oe,13,4,"div",6),i(),t(3,"div",7),u(4,Ue,5,3,"div",8),t(5,"div",9)(6,"div",10)(7,"h5",11),o(8," Total Amount : "),t(9,"span",12),o(10),i()(),t(11,"h5",11),o(12," Discount : "),t(13,"span",12),o(14),i()(),t(15,"h5",11),o(16," Amount : "),t(17,"span",12),o(18),i()(),t(19,"form",13)(20,"div"),h(21,"input",14),i(),t(22,"div"),h(23,"input",15),i(),t(24,"button",16),x("click",function(){w(l);let r=y();return E(r.placerOrder())}),o(25," Place Order "),i()()()()()()}if(n&2){let l=y();d(2),m("ngForOf",l.cards),d(2),m("ngIf",l.coupon==null),d(6),c("",l.totalAmount," DH"),d(4),c("",l.discount," DH"),d(4),c(" ",l.payment," DH"),d(),m("formGroup",l.adressForm),d(5),K("background-color",l.adressForm.valid?"#a1f480":"red"),m("disabled",!l.adressForm.valid)}}function qe(n,a){n&1&&(t(0,"div",31)(1,"h2",32),o(2,"No Card Exist."),i()())}function Me(n,a){if(n&1){let l=k();t(0,"div",33)(1,"div",34)(2,"div",35)(3,"button",36),x("click",function(){w(l);let r=y();return E(r.toggleModalDelete(r.cardToRemove))}),ee(),t(4,"svg",37),h(5,"path",38),i(),te(),t(6,"span",39),o(7,"Close modal"),i()(),t(8,"div",40),ee(),t(9,"svg",41),h(10,"path",42),i(),te(),t(11,"h3",43),o(12," Are you sure you want to delete this Product ? "),i(),t(13,"button",44),x("click",function(){w(l);let r=y();return E(r.confirmDelete())}),o(14," Yes, I'm sure "),i(),t(15,"button",45),x("click",function(){w(l);let r=y();return E(r.toggleModalDelete(r.cardToRemove))}),o(16," No, cancel "),i()()()()()}}var he=(()=>{let a=class a{constructor(e,r,s,b){this.customerService=e,this.fb=r,this.router=s,this.route=b,this.cards=[],this.totalAmount="",this.discount="",this.payment="",this.coupon=!1,this.codeExist=!1,this.isModalOpenDelete=!1,this.cardToRemove=-1}ngOnInit(){this.couponForm=this.fb.group({code:[null,v.required]}),this.adressForm=this.fb.group({adress:[null,v.required],description:[null]}),this.route.params.subscribe(e=>{this.idUser=N.getUserId(),this.idOrder=16}),this.getAllCards(),this.handleAmount()}getAllCards(){this.cards=[],this.customerService.getCartOfOrderPending(this.idUser).subscribe(e=>{e.forEach(r=>{r.processedImg="data:image/jpeg;base64,"+r.productDto.byteImg,this.idOrder=e[0].orderDto.id,this.cards.push(r)})})}applyCoupon(){this.customerService.applyCoupon(this.idOrder,this.couponForm.get("code")?.value).subscribe(e=>{console.log("succes apply Coupon"),this.codeExist=!1,this.getAllCards(),window.location.reload()},e=>{console.log("Error >> "+e),this.codeExist=!0})}incrementQuantity(e){this.customerService.incrementQuantity(e).subscribe(r=>{console.log("ince Success !!"),this.getAllCards(),this.handleAmount()},r=>{console.log("Error >> "+r),this.handleAmount()})}decrementQuantity(e){return U(this,null,function*(){console.log("Dec -------");try{let r=yield this.customerService.getQuantityInCard(e).toPromise();console.log("quantity ------- "+r),r>1?(yield this.customerService.decrementQuantity(e).toPromise(),console.log("dec Success !!"),this.getAllCards(),this.handleAmount()):(console.log("Quantity is already 1, cannot decrement further."),this.toggleModalDelete(e),this.handleAmount())}catch(r){console.log("Error >> "+r),this.handleAmount()}})}toggleModalDelete(e){this.cardToRemove=e,this.isModalOpenDelete=!this.isModalOpenDelete}confirmDelete(){this.customerService.deleteCard(this.cardToRemove).subscribe(e=>{console.log("Deleting product... "+this.cardToRemove),window.location.reload()},e=>{console.log("This card does not exist"),window.location.reload()}),this.toggleModalDelete(this.cardToRemove)}placerOrder(){this.customerService.placerOrder(this.idUser,this.idOrder,this.adressForm.get("adress")?.value,this.adressForm.get("description")?.value).subscribe(e=>{console.log("Place order --- "),this.router.navigateByUrl("/customer/home")},e=>{console.log("Error >> "),console.dir(e)})}handleAmount(){this.customerService.getCartOfOrderPending(this.idUser).subscribe(e=>{this.discount=e[0].orderDto.discount,this.payment=e[0].orderDto.payment,this.totalAmount=e[0].orderDto.totalAmount,this.coupon=e[0].orderDto.couponDto})}};a.\u0275fac=function(r){return new(r||a)(p(T),p(D),p(F),p(P))},a.\u0275cmp=S({type:a,selectors:[["app-cart"]],decls:4,vars:3,consts:[[1,"mt-20","sm:mt-0","sm:w-4/5","grid","grid-cols-1","gap-y-6","p-2","mx-auto"],["class","sm:mt-20 grid grid-cols-1 gap-y-8 p-3",4,"ngIf"],["class","rounded-md p-5 sm:mt-20 w-fit mx-auto my-auto border border-red-500",4,"ngIf"],["id","popup-modal","tabindex","-1","class","fixed top-0 right-0 left-0 z-50 flex justify-center items-center w-full h-full bg-black bg-opacity-50",4,"ngIf"],[1,"sm:mt-20","grid","grid-cols-1","gap-y-8","p-3"],[1,"grid","grid-cols-1","gap-y-4"],["class","grid grid-cols-1 gap-y-2 rounded-lg bg-[#e8e4e2] p-3 shadow-md sm:grid-cols-4",4,"ngFor","ngForOf"],[1,"grid","sm:grid-cols-2","grid-co","gap-y-3"],["class","bg-gray-800 rounded-lg w-fit mx-auto my-auto p-4 px-4 flex flex-col gap-y-4",4,"ngIf"],[1,"flex","flex-col","my-auto","items-center","w-fit","mx-auto","bg-white","border","border-gray-200","rounded-lg","shadow","md:flex-row","md:max-w-xl","hover:bg-gray-100","dark:border-gray-700","dark:bg-gray-800","dark:hover:bg-gray-700"],[1,"flex","flex-col","justify-between","p-4","leading-normal"],[1,"mb-2","text-2xl","font-bold","tracking-tight","text-gray-900","dark:text-white"],[1,"mb-3","text-gray-700","dark:text-gray-400","font-semibold"],[1,"flex","gap-y-3","flex-col","mx-auto","m-3",3,"formGroup"],["type","text","formControlName","adress","placeholder","Adress","required","",1,"rounded-sm","p-1","focus:outline-none"],["type","text","formControlName","description","placeholder","Description",1,"rounded-sm","p-1","focus:outline-none"],["type","button",1,"text-black","hover:bg-[#18aa27]","focus:ring-4","focus:outline-none","focus:bg-[#22c62d]","font-medium","rounded-lg","text-sm","px-4","py-2","text-center","dark:bg-[#a1f480]","dark:hover:bg-[#3d9617]","dark:focus:ring-[#badfb8]",3,"click","disabled"],[1,"grid","grid-cols-1","gap-y-2","rounded-lg","bg-[#e8e4e2]","p-3","shadow-md","sm:grid-cols-4"],["alt","",1,"mx-auto","h-14","w-14","bg-black",3,"src"],[1,"text-center","font-serif","text-xl","my-auto"],[1,"text-center","my-auto"],[1,"my-auto","flex","gap-x-2","w-full","mx-auto","justify-center"],[1,"bg-[#d84f4f]","p-2","rounded-full","w-fit",3,"click"],[1,"text-center","my-auto","border","border-red-200","rounded-md","p-1"],[1,"bg-[#93d84f]","p-2","rounded-full","w-fit",3,"click"],[1,"bg-gray-800","rounded-lg","w-fit","mx-auto","my-auto","p-4","px-4","flex","flex-col","gap-y-4"],[3,"formGroup"],["formControlName","code","type","text","placeholder","Code",1,"p-1","rounded-md"],["id","nameInUse","class","text-red-500 text-xs italic mt-1",4,"ngIf"],["type","submit","value","Add Coupon",1,"p-1","rounded-md","bg-slate-300","w-fit","mx-auto","px-4",3,"click","disabled"],["id","nameInUse",1,"text-red-500","text-xs","italic","mt-1"],[1,"rounded-md","p-5","sm:mt-20","w-fit","mx-auto","my-auto","border","border-red-500"],[1,""],["id","popup-modal","tabindex","-1",1,"fixed","top-0","right-0","left-0","z-50","flex","justify-center","items-center","w-full","h-full","bg-black","bg-opacity-50"],[1,"relative","p-4","w-full","max-w-md"],[1,"relative","bg-white","rounded-lg","shadow","dark:bg-gray-700"],["type","button",1,"absolute","top-3","end-2.5","text-gray-400","bg-transparent","hover:bg-gray-200","hover:text-gray-900","rounded-lg","text-sm","w-8","h-8","ms-auto","inline-flex","justify-center","items-center","dark:hover:bg-gray-600","dark:hover:text-white",3,"click"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 14 14",1,"w-3","h-3"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"],[1,"sr-only"],[1,"p-4","md:p-5","text-center"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 20 20",1,"mx-auto","mb-4","text-gray-400","w-12","h-12","dark:text-gray-200"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M10 11V6m0 8h.01M19 10a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"],[1,"mb-5","text-lg","font-normal","text-gray-500","dark:text-gray-400"],["type","button",1,"text-white","bg-red-600","hover:bg-red-800","focus:ring-4","focus:outline-none","focus:ring-red-300","dark:focus:ring-red-800","font-medium","rounded-lg","text-sm","inline-flex","items-center","px-5","py-2.5","text-center",3,"click"],["type","button",1,"py-2.5","px-5","ms-3","text-sm","font-medium","text-gray-900","focus:outline-none","bg-white","rounded-lg","border","border-gray-200","hover:bg-gray-100","hover:text-blue-700","focus:z-10","focus:ring-4","focus:ring-gray-100","dark:focus:ring-gray-700","dark:bg-gray-800","dark:text-gray-400","dark:border-gray-600","dark:hover:text-white","dark:hover:bg-gray-700",3,"click"]],template:function(r,s){r&1&&(t(0,"section",0),u(1,Pe,26,9,"div",1)(2,qe,3,0,"div",2),i(),u(3,Me,17,0,"div",3)),r&2&&(d(),m("ngIf",s.cards.length!=0),d(),m("ngIf",s.cards.length==0),d(),m("ngIf",s.isModalOpenDelete))},dependencies:[C,I,R,j,V,H,de,$,L]});let n=a;return n})();var ge=n=>["/customer/faq/",n];function je(n,a){if(n&1){let l=k();t(0,"div",13)(1,"div",14)(2,"div",15),h(3,"img",16),i(),t(4,"div",17)(5,"div",18)(6,"h2",19),o(7),i(),t(8,"h2",20),o(9),i()(),t(10,"p",21),o(11),i(),t(12,"div",18)(13,"button",22),o(14," FAQ "),i(),t(15,"button",23),x("click",function(){let r=w(l).$implicit,s=y(2);return E(s.deleteFavoris(r.id))}),o(16," Remove Item "),i()()()()()}if(n&2){let l=a.$implicit;d(3),m("src",l.processedImg,_)("alt",l.img),d(4),g(l.name),d(2),c("",l.price," DH"),d(2),g(l.description),d(2),m("routerLink",A(6,ge,l.id))}}function Ve(n,a){if(n&1){let l=k();t(0,"tr",24)(1,"td",25)(2,"div",26),h(3,"img",27),i()(),t(4,"td",28),o(5),i(),t(6,"td",28),o(7),i(),t(8,"td",29),o(9),i(),t(10,"td",29)(11,"a",30),o(12,"FAQ"),i()(),t(13,"td",29)(14,"button",23),x("click",function(){let r=w(l).$implicit,s=y(2);return E(s.deleteFavoris(r.id))}),o(15," Remove "),i()()()}if(n&2){let l=a.$implicit;d(3),m("src",l.processedImg,_)("alt",l.img),d(2),g(l.name),d(2),g(l.description),d(2),c("",l.price," DH"),d(2),m("routerLink",A(6,ge,l.id))}}function He(n,a){if(n&1&&(t(0,"div",2),u(1,je,17,8,"div",3),t(2,"div",4)(3,"table",5)(4,"thead",6)(5,"tr",7)(6,"th",8),o(7," Product "),i(),t(8,"th",9),o(9," Name "),i(),t(10,"th",9),o(11," Description "),i(),t(12,"th",10),o(13," Price "),i(),t(14,"th",9),o(15," More Details "),i(),t(16,"th",11),o(17," Operation "),i()()(),t(18,"tbody"),u(19,Ve,16,8,"tr",12),i()()()()),n&2){let l=y();d(),m("ngForOf",l.products),d(18),m("ngForOf",l.products)}}function Re(n,a){n&1&&(t(0,"div",31)(1,"h2",26),o(2,"No Product Favorit."),i()())}var fe=(()=>{let a=class a{constructor(e,r,s){this.customerService=e,this.fb=r,this.router=s,this.products=[],this.idUser=N.getUserId()}ngOnInit(){this.getAllFavorite()}getAllFavorite(){this.customerService.getAllFavorite(this.idUser).subscribe(e=>{e.forEach(r=>{r.processedImg="data:image/jpeg;base64,"+r.img,this.products.push(r)})})}deleteFavoris(e){this.customerService.deleteFavoris(e,this.idUser).subscribe(r=>{console.log("Ra brkti eala delete"),console.log("Deleted Success !!"),window.location.reload()},r=>{console.log("Ra brkti eala delete"),console.log("Error >> "+r),window.location.reload()})}};a.\u0275fac=function(r){return new(r||a)(p(T),p(D),p(F))},a.\u0275cmp=S({type:a,selectors:[["app-wish-list"]],decls:2,vars:2,consts:[["class","parent mt-20 mx-auto p-8",4,"ngIf"],["class","rounded-md mt-28 p-5 w-fit mx-auto my-auto border border-red-500",4,"ngIf"],[1,"parent","mt-20","mx-auto","p-8"],["class","card w-full grid grid-cols-1 p-1 py-4 sm:hidden",4,"ngFor","ngForOf"],[1,"hidden","sm:grid"],[1,"mx-auto","bg-[#e8e4e2]"],[1,"bg-[#ef3333]","rounded-3xl"],[1,"bg-[#d9b3b3]"],[1,"border","border-r-[#a58787]","p-3","px-10","text-center","font-serif","text-[#525252]"],[1,"border","border-r-[#f4acac]","p-3","px-10","text-center","font-serif","text-[#525252]"],[1,"border","border-r-[#f4acac]","p-3","px-8","text-center","font-serif","text-[#525252]"],[1,"border","p-3","text-center","font-serif","text-[#525252]"],["class","border border-b-[#918080] p-4",4,"ngFor","ngForOf"],[1,"card","w-full","grid","grid-cols-1","p-1","py-4","sm:hidden"],[1,"my-8","pb-5","border-b-2"],[1,"mx-auto","h-60","w-full"],[1,"mx-auto","h-52","w-52",3,"src","alt"],[1,"grid","grid-cols-1","gap-y-3","px-2"],[1,"flex","justify-between"],[1,"font-serif","text-3xl"],[1,"text-2xl","font-semibold"],[1,"font-mono","text-xl"],[1,"rounded-xl","bg-[#6e94e6]","p-2","font-serif","text-lg","text-white","hover:bg-[#4d80ed]",3,"routerLink"],[1,"rounded-xl","bg-[#e66e6e]","p-2","font-serif","text-lg","text-white","hover:bg-[#ed4d4d]",3,"click"],[1,"border","border-b-[#918080]","p-4"],[1,"h-auto","p-3"],[1,""],[1,"mx-auto","max-h-48","w-auto",3,"src","alt"],[1,"font-mono","p-4"],[1,"font-mono","text-center","p-4"],[1,"bg-violet-400","hover:bg-violet-600","text-white","rounded-xl","p-2",3,"routerLink"],[1,"rounded-md","mt-28","p-5","w-fit","mx-auto","my-auto","border","border-red-500"]],template:function(r,s){r&1&&u(0,He,20,2,"div",0)(1,Re,3,0,"div",1),r&2&&(m("ngIf",s.products.length!=0),d(),m("ngIf",s.products.length==0))},dependencies:[C,I,M]});let n=a;return n})();function $e(n,a){n&1&&(t(0,"p",25),o(1," Ce nom est d\xE9j\xE0 utilis\xE9. "),i())}function Le(n,a){n&1&&(t(0,"p",25),o(1," Cette email est d\xE9j\xE0 utilis\xE9. "),i())}function ze(n,a){n&1&&(t(0,"div",26),o(1,` Product added to Favoris.
`),i())}var xe=(()=>{let a=class a{constructor(e,r,s,b){this.customerService=e,this.fb=r,this.router=s,this.route=b,this.idUser=N.getUserId(),this.imgUser="",this.firstName="",this.lastName="",this.userName="",this.email="",this.dateCreation="",this.password="",this.showNotificationChangeSucess=!1,this.userNameExist=!1,this.emailExist=!1,this.passwordNoMatch=!1,this.hidePassword=!0,console.log("(Avant CONS ) firstName >> "+this.firstName),console.log("construduto"),this.getUser(),console.log("(After CONS ) firstName >> "+this.firstName)}ngOnInit(){this.profileForm=this.fb.group({firstName:[,v.required],lastName:[,v.required],userName:[,v.required],email:[,[v.required,v.email]],password:[,v.required]})}passwordMatchValidator(e){let r=e.get("password"),s=e.get("rePassword");return r&&s&&r.value!==s.value?{passwordMismatch:!0}:(this.passwordNoMatch=!0,null)}getUser(){return U(this,null,function*(){console.log("Avant appele");try{let e=yield this.customerService.findUserById(this.idUser).toPromise();this.email=e.email,this.firstName=e.firstName,this.lastName=e.lastName,this.userName=e.userName,this.dateCreation=e.dateCreation,this.imgUser="data:image/jpeg;base64,"+e.img,this.urlOfImg=e.img}catch(e){console.error("Error occurred while fetching user:",e)}console.log("Inside getUSER() --->> "+this.firstName)})}previewImage(e){let r=e.target,s=new FileReader;s.onload=()=>{let b=document.getElementById("preview");if(b){b.src=s.result;let q=document.querySelector(".image-preview");q&&q.classList.remove("hidden")}},this.selectedFile=r.files[0],s.readAsDataURL(r.files[0])}updateUser(){if(this.profileForm.valid){let e={id:5,firstName:"",lastName:"",userName:"",email:"",password:"",img:this.selectedFile};e.id=this.idUser,e.firstName=this.profileForm.get("firstName")?.value,e.lastName=this.profileForm.get("lastName")?.value,e.userName=this.profileForm.get("userName")?.value,e.email=this.profileForm.get("email")?.value,e.password=this.profileForm.get("password")?.value,console.log("Value of data :"),console.dir(e);let r=new FormData;if(this.selectedFile!=null)r.append("img",this.selectedFile);else{let s=this.dataURLToBlob(this.imgUser);r.append("img",s)}r.append("firstName",this.profileForm.get("firstName")?.value),r.append("lastName",this.profileForm.get("lastName")?.value),r.append("userName",this.profileForm.get("userName")?.value),r.append("email",this.profileForm.get("email")?.value),r.append("password",this.profileForm.get("password")?.value),r.append("id",this.idUser.toString()),this.customerService.changeProfil(r).subscribe(s=>{console.log("Change Success !!"),console.log("formData2 >> "+e),this.emailExist=!1,this.userNameExist=!1,this.showNotificationChangeSucess=!0,setTimeout(()=>{this.showNotificationChangeSucess=!1},3e3)},s=>{console.log("Error >> "+s),console.log("error.message >> "+s.err),s.status==404&&(this.emailExist=!0),s.status==409&&(this.userNameExist=!0)})}else console.log("INVALID FORM")}togglePasswordVisibility(){this.hidePassword=!this.hidePassword}dataURLToBlob(e){let r=e.split(","),s=atob(r[1]),b=r[0].split(":")[1].split(";")[0],q=new ArrayBuffer(s.length),Se=new Uint8Array(q);for(let Y=0;Y<s.length;Y++)Se[Y]=s.charCodeAt(Y);return new Blob([q],{type:b})}};a.\u0275fac=function(r){return new(r||a)(p(T),p(D),p(F),p(P))},a.\u0275cmp=S({type:a,selectors:[["app-profile"]],decls:41,vars:13,consts:[[1,"m-6","mt-24","mx-auto","flex","w-3/4","sm:w-fit","flex-col","gap-y-3","rounded-2xl","bg-[#e6e2e2]","p-2"],[3,"formGroup"],[1,"grid","w-fit","p-3","sm:grid-cols-2","mx-auto","gap-x-2","gap-y-2"],[1,"image-preview"],["id","preview","alt","Image Preview",3,"src"],[1,"flex","flex-col","gap-y-3","sm:my-auto"],["id","file-upload","type","file","required","",1,"hidden","w-fit",3,"change"],["for","file-upload",1,"rounded-lg","bg-[#244a8c]","p-4","font-mono","text-xl","text-white","cursor-pointer"],[1,"image-preview","hidden"],["id","preview"],[1,"grid","gap-y-4"],[1,"grid","sm:grid-cols-2","gap-y-3","sm:gap-x-2"],[1,"flex","flex-col"],[1,"font-normal","text-[#244a8c]"],["formControlName","firstName","type","text",1,"rounded-md","p-2","font-normal","focus:border","focus:border-[#244a8c]","focus:outline-none",3,"placeholder"],["formControlName","lastName","type","text",1,"rounded-md","p-2","font-normal","focus:border","focus:border-[#244a8c]","focus:outline-none",3,"placeholder"],["formControlName","userName","type","text",1,"rounded-md","p-2","font-normal","focus:border","focus:border-[#244a8c]","focus:outline-none",3,"placeholder"],["id","nameInUse","class","text-red-500 text-xs italic",4,"ngIf"],["formControlName","email","type","text",1,"rounded-md","p-2","font-normal","focus:border","focus:border-[#244a8c]","focus:outline-none",3,"placeholder"],[1,"relative"],["formControlName","password",1,"rounded-md","p-2","font-normal","focus:border","focus:border-[#244a8c]","focus:outline-none",3,"placeholder"],[1,"absolute","inset-y-0","right-0","px-3","flex","items-center",3,"click"],[1,"flex","justify-center","my-3","gap-x-3"],[1,"rounded-xl","p-2","px-3","font-mono","text-white","hover:bg-[#0d46d7]",3,"click","disabled"],["class","fixed bottom-0 right-0 m-4 bg-green-500 text-white p-4 rounded shadow",4,"ngIf"],["id","nameInUse",1,"text-red-500","text-xs","italic"],[1,"fixed","bottom-0","right-0","m-4","bg-green-500","text-white","p-4","rounded","shadow"]],template:function(r,s){r&1&&(t(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3),h(4,"img",4),i(),t(5,"div",5)(6,"input",6),x("change",function(q){return s.previewImage(q)}),i(),t(7,"label",7),o(8,"Change Picture"),i()(),t(9,"div",8),h(10,"img",9),i()(),t(11,"div",10)(12,"div",11)(13,"div",12)(14,"label",13),o(15,"Your first Name"),i(),h(16,"input",14),i(),t(17,"div",12)(18,"label",13),o(19,"Your last Name"),i(),h(20,"input",15),i()(),t(21,"div",12)(22,"label",13),o(23,"Your UserName"),i(),h(24,"input",16),u(25,$e,2,0,"p",17),i(),t(26,"div",12)(27,"label",13),o(28,"Your Email"),i(),h(29,"input",18),u(30,Le,2,0,"p",17),i(),t(31,"div",12)(32,"label",13),o(33,"Your Password"),i(),t(34,"div",19),h(35,"input",20),t(36,"button",21),x("click",function(){return s.togglePasswordVisibility()}),i()()()(),t(37,"div",22)(38,"button",23),x("click",function(){return s.updateUser()}),o(39," Change "),i()()()(),u(40,ze,2,0,"div",24)),r&2&&(d(),m("formGroup",s.profileForm),d(3),m("src",s.imgUser,_),d(12),m("placeholder",s.firstName),d(4),m("placeholder",s.lastName),d(4),m("placeholder",s.userName),d(),m("ngIf",s.userNameExist),d(4),m("placeholder",s.email),d(),m("ngIf",s.emailExist),d(5),m("placeholder",s.password),d(3),K("background-color",s.profileForm.valid&&(s.selectedFile!=null||s.imgUser!="")?"green":"red"),m("disabled",!s.profileForm.valid&&(s.selectedFile!=null||s.imgUser!="")),d(2),m("ngIf",s.showNotificationChangeSucess))},dependencies:[I,R,j,V,H,$,L],styles:[".image-preview[_ngcontent-%COMP%]{width:200px;height:200px;overflow:hidden;margin:0 auto;border-radius:50%}.image-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:50%}"]});let n=a;return n})();var X=n=>["/customer/orderDetails/",n];function Be(n,a){if(n&1&&(t(0,"tr",10)(1,"td",11),o(2),i(),t(3,"td",11),o(4),i(),t(5,"td",11),o(6),i(),t(7,"td",11),o(8),i(),t(9,"td",11),o(10),i(),t(11,"td",12)(12,"div")(13,"a",13),o(14,"Details"),i()()()()),n&2){let l=a.$implicit;d(2),g(l.totalAmount==="0"?"-----":l.totalAmount),d(2),g(l.orderDescription),d(2),g(l.payment),d(2),g(l.adress),d(2),c(" ",l.dateCreation.substring(0,10)," "),d(3),m("routerLink",A(6,X,l.id))}}function Qe(n,a){n&1&&(t(0,"tr")(1,"td",14),o(2,"empty"),i(),t(3,"td",14),o(4,"empty"),i(),t(5,"td",14),o(6,"empty"),i(),t(7,"td",14),o(8,"empty"),i(),t(9,"td",14),o(10,"empty"),i(),t(11,"td",14),o(12,"empty"),i()())}function Ge(n,a){if(n&1&&(t(0,"tr",10)(1,"td",11),o(2),i(),t(3,"td",11),o(4),i(),t(5,"td",11),o(6),i(),t(7,"td",11),o(8),i(),t(9,"td",11),o(10),i(),t(11,"td",11)(12,"a",15),o(13,"Details"),i()()()),n&2){let l=a.$implicit;d(2),g(l.trackingId),d(2),g(l.orderDescription),d(2),g(l.payment),d(2),g(l.adress),d(2),c(" ",l.dateCreation.substring(0,10)," "),d(2),m("routerLink",A(6,X,l.id))}}function We(n,a){n&1&&(t(0,"tr")(1,"td",14),o(2,"----"),i(),t(3,"td",14),o(4,"----"),i(),t(5,"td",14),o(6,"----"),i(),t(7,"td",14),o(8,"----"),i(),t(9,"td",14),o(10,"----"),i(),t(11,"td",14),o(12,"----"),i()())}function Ye(n,a){if(n&1&&(t(0,"tr",10)(1,"td",11),o(2),i(),t(3,"td",11),o(4),i(),t(5,"td",11),o(6),i(),t(7,"td",11),o(8),i(),t(9,"td",11),o(10),i(),t(11,"td",11)(12,"a",15),o(13,"Details"),i()()()),n&2){let l=a.$implicit;d(2),g(l.trackingId),d(2),g(l.orderDescription),d(2),g(l.payment),d(2),g(l.adress),d(2),c(" ",l.dateCreation.substring(0,10)," "),d(2),m("routerLink",A(6,X,l.id))}}function Ze(n,a){n&1&&(t(0,"tr")(1,"td",14),o(2,"----"),i(),t(3,"td",14),o(4,"----"),i(),t(5,"td",14),o(6,"----"),i(),t(7,"td",14),o(8,"----"),i(),t(9,"td",14),o(10,"----"),i(),t(11,"td",14),o(12,"----"),i()())}function Je(n,a){if(n&1&&(t(0,"tr",10)(1,"td",11),o(2),i(),t(3,"td",11),o(4),i(),t(5,"td",11),o(6),i(),t(7,"td",11),o(8),i(),t(9,"td",11),o(10),i(),t(11,"td",11)(12,"a",15),o(13,"Details"),i()()()),n&2){let l=a.$implicit;d(2),g(l.trackingId),d(2),g(l.orderDescription),d(2),g(l.payment),d(2),g(l.adress),d(2),c(" ",l.dateCreation.substring(0,10)," "),d(2),m("routerLink",A(6,X,l.id))}}function Ke(n,a){n&1&&(t(0,"tr")(1,"td",14),o(2,"----"),i(),t(3,"td",14),o(4,"----"),i(),t(5,"td",14),o(6,"----"),i(),t(7,"td",14),o(8,"----"),i(),t(9,"td",14),o(10,"----"),i(),t(11,"td",14),o(12,"----"),i()())}var ve=(()=>{let a=class a{constructor(e){this.customerService=e,this.ordersPending=[],this.ordersShipped=[],this.ordersDelivred=[],this.ordersPlaced=[],this.idUser=N.getUserId()}ngOnInit(){this.getAllOrders()}getAllOrders(){this.customerService.getOrderPending(this.idUser).subscribe(e=>{this.ordersPending=e}),this.customerService.getOrderShipped(this.idUser).subscribe(e=>{this.ordersShipped=e}),this.customerService.getOrderDelivered(this.idUser).subscribe(e=>{this.ordersDelivred=e}),this.customerService.getOrderPlaced(this.idUser).subscribe(e=>{this.ordersPlaced=e})}};a.\u0275fac=function(r){return new(r||a)(p(T))},a.\u0275cmp=S({type:a,selectors:[["app-orders"]],decls:89,vars:8,consts:[[1,"mt-20","mx-auto","sm:w-4/5","grid","grid-cols-1","gap-y-6","p-2"],[1,"overflow-x-auto","mt-7","bg-[#e7e4e4]","p-4"],[1,"mx-auto","w-fit","m-2"],[1,"font-bold","text-lg"],[1,"min-w-full","table-auto"],[1,"bg-gray-800","text-white"],[1,"px-4","py-2"],[1,"bg-white"],["class","hover:bg-gray-100",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"hover:bg-gray-100"],[1,"border","px-4","py-2"],[1,"border","px-4","py-2","mx-auto"],[1,"bg-violet-400","p-2","rounded-md","mx-auto","w-fit",3,"routerLink"],[1,"border","px-4","py-2","font-serif"],[1,"bg-violet-400","p-2","rounded-md",3,"routerLink"]],template:function(r,s){r&1&&(t(0,"section",0)(1,"div",1)(2,"div",2)(3,"h1",3),o(4,"Pending Orders"),i()(),t(5,"table",4)(6,"thead",5)(7,"tr")(8,"th",6),o(9,"Amount"),i(),t(10,"th",6),o(11,"Description"),i(),t(12,"th",6),o(13,"Payment"),i(),t(14,"th",6),o(15,"Adress"),i(),t(16,"th",6),o(17,"Date"),i(),t(18,"th",6),o(19,"Details"),i()()(),t(20,"tbody",7),u(21,Be,15,8,"tr",8)(22,Qe,13,0,"tr",9),i()()(),t(23,"div",1)(24,"div",2)(25,"h1",3),o(26,"Placed Orders"),i()(),t(27,"table",4)(28,"thead",5)(29,"tr")(30,"th",6),o(31,"TrackerID"),i(),t(32,"th",6),o(33,"Description"),i(),t(34,"th",6),o(35,"Payment"),i(),t(36,"th",6),o(37,"Adress"),i(),t(38,"th",6),o(39,"Date"),i(),t(40,"th",6),o(41,"Details"),i()()(),t(42,"tbody",7),u(43,Ge,14,8,"tr",8)(44,We,13,0,"tr",9),i()()(),t(45,"div",1)(46,"div",2)(47,"h1",3),o(48,"Shipped Orders"),i()(),t(49,"table",4)(50,"thead",5)(51,"tr")(52,"th",6),o(53,"TrackerID"),i(),t(54,"th",6),o(55,"Description"),i(),t(56,"th",6),o(57,"Payment"),i(),t(58,"th",6),o(59,"Adress"),i(),t(60,"th",6),o(61,"Date"),i(),t(62,"th",6),o(63,"Details"),i()()(),t(64,"tbody",7),u(65,Ye,14,8,"tr",8)(66,Ze,13,0,"tr",9),i()()(),t(67,"div",1)(68,"div",2)(69,"h1",3),o(70,"Delivered Orders"),i()(),t(71,"table",4)(72,"thead",5)(73,"tr")(74,"th",6),o(75,"TrackerID"),i(),t(76,"th",6),o(77,"Description"),i(),t(78,"th",6),o(79,"Payment"),i(),t(80,"th",6),o(81,"Adress"),i(),t(82,"th",6),o(83,"Date"),i(),t(84,"th",6),o(85,"Details"),i()()(),t(86,"tbody",7),u(87,Je,14,8,"tr",8)(88,Ke,13,0,"tr",9),i()()()()),r&2&&(d(21),m("ngForOf",s.ordersPending),d(),m("ngIf",s.ordersPending.length==0),d(21),m("ngForOf",s.ordersPlaced),d(),m("ngIf",s.ordersPlaced.length==0),d(21),m("ngForOf",s.ordersShipped),d(),m("ngIf",s.ordersShipped.length==0),d(21),m("ngForOf",s.ordersDelivred),d(),m("ngIf",s.ordersDelivred.length==0))},dependencies:[C,I,M]});let n=a;return n})();function Xe(n,a){if(n&1&&(t(0,"div",9),h(1,"img",10),t(2,"h2",11),o(3),i(),t(4,"p",12),o(5),i(),t(6,"p",12),o(7),i(),t(8,"p",12),o(9),i()()),n&2){let l=a.$implicit;d(),m("src",l.processedImg,_),d(2),c(" ",l.productDto.name," "),d(2),c("Price : ",l.productDto.price,""),d(2),c("Quantity : ",l.quantity,""),d(2),c("Payment : ",l.price,"")}}var be=(()=>{let a=class a{constructor(e,r,s,b){this.adminService=e,this.fb=r,this.router=s,this.route=b,this.cards=[],this.imgUser="",this.firstName="",this.lastName="",this.userName="",this.email="",this.dateCreation=""}ngOnInit(){this.route.params.subscribe(e=>{this.idOrder=+e.idOrder}),this.getAllCards(),console.log("cards >> "+this.cards),console.log("AVant appele ----------------------------"),this.getUser(),console.log("After appele ----------------------------")}getUser(){return U(this,null,function*(){console.log("Avant appele");try{let e=yield this.adminService.getOrderByIdOrder(this.idOrder).toPromise();this.email=e[0].orderDto.userDto.email,this.firstName=e[0].orderDto.userDto.firstName,this.lastName=e[0].orderDto.userDto.lastName,this.userName=e[0].orderDto.userDto.userName,this.dateCreation=e[0].orderDto.userDto.dateCreation,this.imgUser="data:image/jpeg;base64,"+e[0].orderDto.userDto.img,this.totalAmount=e[0].orderDto.totalAmount,this.discount=e[0].orderDto.discount,this.payment=e[0].orderDto.payment}catch(e){console.error("Error occurred while fetching user:",e)}console.log("Email >>>> "+this.email),console.log("payment >>>> "+this.payment),console.log("date >>>> "+this.dateCreation)})}getAllCards(){this.cards=[],this.adminService.getOrderByIdOrder(this.idOrder).subscribe(e=>{e.forEach(r=>{r.processedImg="data:image/jpeg;base64,"+r.productDto.byteImg,this.cards.push(r)})})}};a.\u0275fac=function(r){return new(r||a)(p(Q),p(D),p(F),p(P))},a.\u0275cmp=S({type:a,selectors:[["app-order-details"]],decls:19,vars:4,consts:[[1,"mt-20","mx-auto","sm:w-4/5","grid","grid-cols-1","gap-y-6","p-2"],[1,"grid","grid-cols-1","sm:grid-cols-2","gap-2"],[1,"flex","flex-col","my-auto","items-center","bg-white","border","border-gray-200","rounded-lg","shadow","md:flex-row","md:max-w-xl","hover:bg-gray-100","dark:border-gray-700","dark:bg-gray-800","dark:hover:bg-gray-700"],[1,"flex","flex-col","justify-between","p-4","leading-normal"],[1,"mb-2","text-2xl","font-bold","tracking-tight","text-gray-900","dark:text-white"],[1,"mb-3","text-gray-700","dark:text-gray-400","font-semibold"],[1,"mt-3","grid","grid-cols-1","gap-y-2","bg-[#93decaa4]","p-3"],[1,"grid","grid-cols-1","gap-y-4"],["class","grid grid-cols-1 gap-y-2 rounded-lg bg-[#dab047] p-3 shadow-md sm:grid-cols-5",4,"ngFor","ngForOf"],[1,"grid","grid-cols-1","gap-y-2","rounded-lg","bg-[#dab047]","p-3","shadow-md","sm:grid-cols-5"],["alt","",1,"mx-auto","h-14","w-14","bg-black",3,"src"],[1,"text-center","font-serif","text-xl","my-auto"],[1,"text-center","my-auto"]],template:function(r,s){r&1&&(t(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5",4),o(5," Total Amount : "),t(6,"span",5),o(7),i()(),t(8,"h5",4),o(9," Discount : "),t(10,"span",5),o(11),i()(),t(12,"h5",4),o(13," Amount : "),t(14,"span",5),o(15),i()()()()(),t(16,"div",6)(17,"div",7),u(18,Xe,10,5,"div",8),i()()()),r&2&&(d(7),c("",s.totalAmount," DH"),d(4),c("",s.discount,"DH"),d(4),c("",s.payment," DH"),d(3),m("ngForOf",s.cards))},dependencies:[C]});let n=a;return n})();var et=[{path:"",component:ce},{path:"home",component:pe},{path:"faq/:idProduct",component:ue},{path:"cart",component:he},{path:"app-wish-list",component:fe},{path:"profile",component:xe},{path:"orders",component:ve},{path:"orderDetails/:idOrder",component:be}],ye=(()=>{let a=class a{};a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=J({type:a}),a.\u0275inj=Z({imports:[ie.forChild(et),ie]});let n=a;return n})();var ii=(()=>{let a=class a{};a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=J({type:a}),a.\u0275inj=Z({imports:[ne,ye,me,le]});let n=a;return n})();export{ii as CustomerModule};
